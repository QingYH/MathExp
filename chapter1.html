<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é«˜æ•°ç¬¬ä¸€ç« è‡ªæ•‘æŒ‡å— - æé™ä¸è¿ç»­ï¼šå®Œæ•´å¹½é»˜ç‰ˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #ff6b6b;
            --success: #40c057;
            --warning: #ffd43b;
            --info: #36d1dc;
            --dark: #343a40;
            --funny-blue: #4285f4;
            --funny-pink: #ff4081;
            --funny-green: #0f9d58;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: var(--dark);
            line-height: 1.6;
            padding: 15px;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        header {
            text-align: center;
            padding: 25px 15px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .math-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            font-size: 20px;
            line-height: 1.5;
            overflow: hidden;
            pointer-events: none;
            font-family: 'Cambria Math', serif;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 1;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-style: italic;
            position: relative;
            z-index: 1;
            margin-bottom: 8px;
        }
        
        .emoji {
            font-size: 1.5rem;
            margin: 0 5px;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }
        
        @media (min-width: 992px) {
            .container {
                grid-template-columns: 3fr 2fr;
            }
        }
        
        .main-content {
            background-color: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .sidebar {
            background-color: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        h2 {
            color: var(--secondary);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 10px;
            margin: 25px 0 15px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
        }
        
        h3 {
            color: var(--primary);
            margin: 20px 0 12px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
        }
        
        h3 i {
            margin-right: 10px;
            color: var(--accent);
        }
        
        .knowledge-point {
            background: linear-gradient(135deg, #f8f9ff 0%, #eef1ff 100%);
            border-left: 4px solid var(--secondary);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .formula {
            background-color: #f1f3f9;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Cambria Math', serif;
            font-size: 1rem;
            overflow-x: auto;
            border: 1px solid #d1d9ff;
        }
        
        .warning {
            background: linear-gradient(135deg, #fff5f5 0%, #ffeaea 100%);
            border-left: 4px solid var(--accent);
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }
        
        .exercise {
            background: linear-gradient(135deg, #e8f4ff 0%, #d1e7ff 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 25px 0;
            position: relative;
            border: 1px solid #b8d4ff;
        }
        
        .exercise::before {
            content: "ğŸ“";
            position: absolute;
            top: -12px;
            left: 20px;
            background: white;
            padding: 0 10px;
            font-size: 1.3rem;
            z-index: 1;
        }
        
        .exercise-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .answer-btn {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 117, 252, 0.2);
        }
        
        .answer {
            background-color: #d4edda;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            border-left: 4px solid #28a745;
            animation: slideIn 0.5s;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .answer.show {
            display: block;
        }
        
        .graph-container {
            background-color: white;
            border-radius: 12px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid #dee2e6;
            text-align: center;
            min-height: 250px;
            max-height: 300px;
            overflow: hidden;
            position: relative;
        }
        
        .graph-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #495057;
            font-size: 1.1rem;
        }
        
        .graph-toggle {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--info);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            z-index: 10;
        }
        
        .graph-toggle:hover {
            background: var(--primary);
        }
        
        .graph-collapsed {
            max-height: 60px;
            transition: max-height 0.3s;
        }
        
        .graph-expanded {
            max-height: 300px;
            transition: max-height 0.3s;
        }
        
        .interactive-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: linear-gradient(135deg, var(--info) 0%, #5d9cec 100%);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 18px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            font-size: 0.85rem;
        }
        
        .progress-container {
            margin-top: 20px;
            background: linear-gradient(135deg, #f1f3f9 0%, #e8ebf5 100%);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #d1d9ff;
        }
        
        .progress-bar {
            height: 12px;
            background-color: #e9ecef;
            border-radius: 6px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 1s ease;
            border-radius: 6px;
        }
        
        .progress-text {
            text-align: center;
            font-weight: bold;
            color: #495057;
            font-size: 1rem;
        }
        
        .section-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }
        
        .section-btn {
            background: #e9ecef;
            border: 1px solid #dee2e6;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
        }
        
        .section-btn:hover {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }
        
        .compact-chart {
            width: 100% !important;
            height: 200px !important;
        }
        
        .exercise-list {
            display: grid;
            gap: 15px;
            margin-top: 15px;
        }
        
        .exercise-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid var(--info);
        }
        
        .exercise-question {
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .main-content, .sidebar {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.3rem;
            }
            
            .graph-container {
                min-height: 200px;
                max-height: 250px;
            }
        }
        
        .tip {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            border-left: 4px solid #17a2b8;
        }
        
        .counter {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--secondary);
            text-align: center;
            margin: 8px 0;
        }
        
        /* æ–°å¢æ ·å¼ */
        .funny-explanation {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #ffb300;
            position: relative;
            overflow: hidden;
        }
        
        .funny-explanation::before {
            content: "ğŸ˜‚";
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            opacity: 0.3;
        }
        
        .meme-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            border: 2px dashed #64b5f6;
        }
        
        .dynamic-graph {
            width: 100%;
            height: 280px;
            background: #f5f5f5;
            border-radius: 8px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
            border: 1px solid #ddd;
        }
        
        .analogy-box {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #8e24aa;
        }
        
        .funny-quote {
            font-style: italic;
            color: #5d4037;
            text-align: center;
            padding: 10px;
            margin: 15px 0;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .funny-quote::before, .funny-quote::after {
            content: '"';
            font-size: 1.5rem;
            color: var(--funny-pink);
        }
        
        .comparison-visual {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 120px;
            margin: 15px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        
        .comparison-bar {
            width: 40px;
            background: linear-gradient(to top, var(--funny-blue), var(--funny-green));
            border-radius: 5px 5px 0 0;
            position: relative;
            transition: height 0.5s;
        }
        
        .comparison-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .clickable-concept {
            cursor: pointer;
            padding: 8px 12px;
            margin: 5px;
            background: #e1f5fe;
            border-radius: 20px;
            display: inline-block;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .clickable-concept:hover {
            background: #b3e5fc;
            border-color: var(--funny-blue);
            transform: translateY(-2px);
        }
        
        .concept-explanation {
            display: none;
            background: #f1f8e9;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #7cb342;
        }
        
        .emoji-explanation {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        
        .emoji-explanation .emoji {
            font-size: 2rem;
            margin-right: 15px;
        }
        
        .discontinuity-point {
            background-color: #ff4444 !important;
            border: 2px solid #cc0000 !important;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5) !important;
            z-index: 10 !important;
        }
        
        .limit-criteria-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .criteria-box {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .operation-rule {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .math-symbol {
            font-size: 1.5rem;
            margin: 0 10px;
            color: var(--primary);
        }
        
        .squeeze-canvas-container {
            width: 100%;
            height: 200px;
            background: #f5f5f5;
            border-radius: 8px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }
        
        .discontinuity-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .discontinuity-example {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .discontinuity-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 2px solid;
        }
        
        .discontinuity-graph {
            width: 100%;
            height: 150px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        /* åŠ¨æ€å›¾å½¢ç›¸å…³æ ·å¼ */
        .dynamic-canvas {
            width: 100%;
            height: 100%;
        }
        
        .graph-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .slider-container {
            width: 100%;
            margin-top: 10px;
            padding: 0 10px;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #e0e0e0;
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }
        
        .graph-description {
            font-size: 0.9rem;
            color: #666;
            margin-top: 10px;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
            text-align: center;
        }
        
        .dynamic-point {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--accent);
            transform: translate(-50%, -50%);
            z-index: 5;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        
        .epsilon-band {
            position: absolute;
            background-color: rgba(102, 187, 255, 0.2);
            border: 1px dashed #66bbff;
            z-index: 1;
        }
        
        .limit-line {
            position: absolute;
            border-top: 2px dashed var(--success);
            z-index: 2;
        }
        
        .function-line {
            position: absolute;
            border-top: 2px solid var(--primary);
            z-index: 3;
        }
        
        .graph-section {
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <header>
        <div class="math-bg" id="mathBg">
            lim âˆ« âˆ‘ âˆ âˆš âˆ Ï€ Îµ Î´ âˆ‚ âˆ‡ â†’ â† â†‘ â†“ â†” âˆ´ âˆµ âˆ€ âˆƒ âˆˆ âˆ‰ âŠ‚ âŠƒ âˆª âˆ© âˆ…
        </div>
        <h1>é«˜ç­‰æ•°å­¦ç¬¬ä¸€ç« è‡ªæ•‘æŒ‡å— <span class="emoji">ğŸš€</span></h1>
        <p class="subtitle">æé™ä¸è¿ç»­ï¼šä»"æˆ‘è£‚å¼€äº†"åˆ°"æˆ‘åˆè¡Œäº†"çš„å¿ƒè·¯å†ç¨‹</p>
        <p style="margin-top:8px; font-size:0.9rem; opacity:0.9;">æ¸©é¦¨æç¤ºï¼šæœ¬æŒ‡å—å«æœ‰å¤§é‡å¹½é»˜æˆåˆ†ï¼Œè¯·å‹¿åœ¨å›¾ä¹¦é¦†ç¬‘å‡ºå£°</p>
    </header>
    
    <div class="container">
        <main class="main-content">
            <div class="section-nav">
                <button class="section-btn" onclick="scrollToSection('mapping-function')">æ˜ å°„ä¸å‡½æ•°</button>
                <button class="section-btn" onclick="scrollToSection('sequence-limit')">æ•°åˆ—æé™</button>
                <button class="section-btn" onclick="scrollToSection('function-limit')">å‡½æ•°æé™</button>
                <button class="section-btn" onclick="scrollToSection('limit-criteria')">æé™å‡†åˆ™</button>
                <button class="section-btn" onclick="scrollToSection('limit-operations')">æé™è¿ç®—</button>
                <button class="section-btn" onclick="scrollToSection('important-limits')">é‡è¦æé™</button>
                <button class="section-btn" onclick="scrollToSection('infinitesimal-comparison')">æ— ç©·å°æ¯”è¾ƒ</button>
                <button class="section-btn" onclick="scrollToSection('continuity')">è¿ç»­æ€§</button>
                <button class="section-btn" onclick="scrollToSection('continuous-operations')">è¿ç»­è¿ç®—</button>
                <button class="section-btn" onclick="scrollToSection('closed-interval')">é—­åŒºé—´æ€§è´¨</button>
            </div>
            
            <!-- æç¬‘å¼•å…¥ -->
            <div class="funny-explanation">
                <h3><i class="fas fa-laugh-beam"></i> é«˜æ•°ç¬¬ä¸€ç« ç”Ÿå­˜æŒ‡å—</h3>
                <p><strong>æé™å°±åƒè¿½å¯¹è±¡ï¼š</strong>æ— é™æ¥è¿‘ï¼Œä½†ä¸ä¸€å®šèƒ½å¾—åˆ°ï¼ˆå•èº«ç‹—æ‚Ÿäº†ï¼‰</p>
                <p><strong>è¿ç»­å°±åƒå¥½å…³ç³»ï¼š</strong>æ²¡æœ‰çªç„¶çš„æ–­è£‚ï¼Œä¸€åˆ‡éƒ½é¡ºæ»‘è‡ªç„¶</p>
                <p><strong>é—´æ–­ç‚¹å°±åƒåµæ¶ï¼š</strong>å¯å»é—´æ–­ç‚¹æ˜¯å°åµï¼ˆå“„å“„å°±å¥½ï¼‰ï¼Œè·³è·ƒé—´æ–­ç‚¹æ˜¯å†·æˆ˜ï¼ˆéœ€è¦æ—¶é—´ï¼‰ï¼Œæ— ç©·é—´æ–­ç‚¹æ˜¯åˆ†æ‰‹ï¼ˆå½»åº•æ²¡æˆï¼‰</p>
                <div class="emoji-explanation">
                    <span class="emoji">ğŸ“ˆ</span>
                    <div>å‡½æ•°å›¾åƒï¼šæˆ‘çš„å¿ƒæƒ…æ›²çº¿ï¼Œæ—¶è€Œè¿ç»­ï¼Œæ—¶è€Œé—´æ–­</div>
                </div>
            </div>
            
            <!-- æ˜ å°„ä¸å‡½æ•° -->
            <section id="mapping-function" class="graph-section">
                <h2><i class="fas fa-project-diagram"></i> ä¸€ã€æ˜ å°„ä¸å‡½æ•°ï¼šæ•°å­¦ç•Œçš„"ä¸€å¯¹ä¸€è¾…å¯¼"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>æ˜ å°„ï¼š</strong>ä¸¤ä¸ªé›†åˆä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚</p>
                    <p><strong>å‡½æ•°ï¼š</strong>ç‰¹æ®Šçš„æ˜ å°„ï¼Œ<strong>ä¸€ä¸ªxåªèƒ½å¯¹åº”ä¸€ä¸ªy</strong>ï¼ˆæ•°å­¦ç•Œçš„"ä¸€å¤«ä¸€å¦»åˆ¶"ï¼‰ã€‚</p>
                    <p><strong>åˆç­‰å‡½æ•°ï¼š</strong>ç”±åŸºæœ¬åˆç­‰å‡½æ•°ç»è¿‡æœ‰é™æ¬¡è¿ç®—å¾—åˆ°çš„å‡½æ•°ã€‚</p>
                    
                    <div class="formula">
                        $$ f: D \to \mathbb{R}, \quad \forall x \in D, \exists! y \in \mathbb{R}, y = f(x) $$
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šå‡½æ•°å®šä¹‰åŸŸå¯è§†åŒ– -->
                <div class="dynamic-graph">
                    <div class="graph-title">å‡½æ•°å®šä¹‰åŸŸå¯è§†åŒ–ï¼š\( f(x) = \frac{\sqrt{x+2}}{x-1} \)</div>
                    <canvas id="domainCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="xValueDomain">0.0</span></span>
                            <span>æ˜¯å¦åœ¨å®šä¹‰åŸŸå†…: <span id="inDomain">å¦</span></span>
                        </div>
                        <input type="range" min="-30" max="30" value="0" class="slider" id="domainSlider" oninput="updateDomainGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeDomainFunction(1)">å‡½æ•°1</button>
                        <button class="control-btn" onclick="changeDomainFunction(2)">å‡½æ•°2</button>
                        <button class="control-btn" onclick="changeDomainFunction(3)">å‡½æ•°3</button>
                    </div>
                    <div class="graph-description" id="domainDescription">
                        æ‹–åŠ¨æ»‘å—æŸ¥çœ‹ä¸åŒxå€¼ã€‚ç»¿è‰²åŒºåŸŸè¡¨ç¤ºå®šä¹‰åŸŸï¼Œçº¢è‰²ç‚¹è¡¨ç¤ºä¸åœ¨å®šä¹‰åŸŸå†…
                    </div>
                </div>
                
                <div class="funny-explanation">
                    <h4><i class="fas fa-smile-wink"></i> æç¬‘ç†è§£</h4>
                    <p><strong>å‡½æ•°å°±åƒè‡ªåŠ¨å”®è´§æœºï¼š</strong>æŠ•ä¸€ä¸ªå¸(x)ï¼Œå‡ºä¸€ä¸ªå•†å“(y)ã€‚ä¸èƒ½æŠ•ä¸€ä¸ªå¸å‡ºä¸¤ä¸ªå•†å“(é‚£ä¸æ˜¯å‡½æ•°)ï¼Œä¹Ÿä¸èƒ½æŠ•å¸åä»€ä¹ˆéƒ½ä¸å‡º(é‚£ä¹Ÿæ˜¯å‡½æ•°ï¼Œåªæ˜¯å€¼æ˜¯ç©º)ã€‚</p>
                    <p><strong>å®šä¹‰åŸŸå°±åƒä½ çš„æ´»åŠ¨èŒƒå›´ï¼š</strong>ä¸èƒ½è¶…å‡ºè¿™ä¸ªèŒƒå›´æ´»åŠ¨ï¼Œå¦åˆ™å‡½æ•°ä¼š"æŠ¥é”™"ã€‚</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>æ˜ å°„ä¸å‡½æ•°ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('mapping')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. åˆ¤æ–­ä¸‹åˆ—å“ªäº›æ˜¯å‡½æ•°ï¼Ÿ</div>
                            <p>A. \( y^2 = x \) (xâ‰¥0)</p>
                            <p>B. \( y = \sqrt{x-1} + \sqrt{1-x} \)</p>
                            <p>C. \( y = \pm\sqrt{x} \) (xâ‰¥0)</p>
                            <button class="answer-btn" onclick="toggleAnswer('mapping1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-mapping1" class="answer">
                                <p><strong>ç­”æ¡ˆï¼š</strong></p>
                                <p>A. <span class="clickable-concept" onclick="showExplanation('explain1')">ä¸æ˜¯å‡½æ•°ï¼</span> ä¸€ä¸ªxå¯¹åº”ä¸¤ä¸ªyå€¼ï¼ˆÂ±âˆšxï¼‰ï¼Œå°±åƒä¸€ä¸ªäººæœ‰ä¸¤ä¸ªèº«ä»½è¯å·ï¼Œç³»ç»Ÿä¼šæ··ä¹±ã€‚</p>
                                <p>B. æ˜¯å‡½æ•°ï¼ˆå®šä¹‰åŸŸä¸º{1}ï¼Œåªæœ‰ä¸€ä¸ªç‚¹ï¼‰</p>
                                <p>C. ä¸æ˜¯å‡½æ•°ï¼ˆä¸€ä¸ªxå¯¹åº”ä¸¤ä¸ªyï¼‰</p>
                                <div id="explain1" class="concept-explanation">
                                    <p><strong>ä¸ºä»€ä¹ˆä¸æ˜¯å‡½æ•°ï¼Ÿ</strong> æƒ³è±¡ä½ æ˜¯è‡ªåŠ¨å”®è´§æœºï¼Œæœ‰äººæŠ•å¸(x)ï¼Œä½ ä¸èƒ½åŒæ—¶å‡ºä¸¤ä¸ªå•†å“(y)ï¼è¿™æ ·é¡¾å®¢ä¼šå›°æƒ‘çš„ï¼</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. æ±‚å‡½æ•° \( f(x) = \frac{\sqrt{x+2}}{x-1} \) çš„å®šä¹‰åŸŸ</div>
                            <button class="answer-btn" onclick="toggleAnswer('mapping2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-mapping2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong>éœ€è¦æ»¡è¶³ï¼š</p>
                                <p>1. \( x+2 \ge 0 \) â‡’ \( x \ge -2 \) ï¼ˆæ ¹å·é‡Œé¢ä¸èƒ½ä¸ºè´Ÿï¼Œå°±åƒä¸èƒ½ç©¿è´Ÿæ•°ä»¶è¡£æœï¼‰</p>
                                <p>2. \( x-1 \ne 0 \) â‡’ \( x \ne 1 \) ï¼ˆåˆ†æ¯ä¸èƒ½ä¸ºé›¶ï¼Œå°±åƒä¸èƒ½é™¤ä»¥é›¶ä¸ªè‹¹æœï¼‰</p>
                                <p>æ‰€ä»¥å®šä¹‰åŸŸä¸º \( [-2, 1) \cup (1, +\infty) \)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- æ•°åˆ—æé™ -->
            <section id="sequence-limit" class="graph-section">
                <h2><i class="fas fa-sort-numeric-down"></i> äºŒã€æ•°åˆ—æé™ï¼šæ— é™é€¼è¿‘çš„"èˆ”ç‹—"è¡Œä¸º</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p>æ•°åˆ—æé™ï¼šå½“nâ†’âˆæ—¶ï¼Œæ•°åˆ—{x<sub>n</sub>}æ— é™æ¥è¿‘å¸¸æ•°aã€‚</p>
                    <p><strong>Îµ-Nè¯­è¨€ï¼š</strong>å¯¹âˆ€Îµ>0ï¼ŒâˆƒN>0ï¼Œå½“n>Næ—¶ï¼Œ|x<sub>n</sub> - a| < Îµã€‚</p>
                    
                    <div class="formula">
                        $$ \lim_{n \to \infty} x_n = a \Leftrightarrow \forall \varepsilon > 0, \exists N, \text{å½“} n > N \text{æ—¶}, |x_n - a| < \varepsilon $$
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šæ•°åˆ—æé™æ”¶æ•›åŠ¨ç”» -->
                <div class="dynamic-graph">
                    <div class="graph-title">æ•°åˆ—æé™åŠ¨æ€æ”¶æ•›ï¼š\( x_n = \frac{1}{n} \to 0 \)</div>
                    <canvas id="sequenceCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>é¡¹æ•° n: <span id="nValue">10</span></span>
                            <span>å½“å‰å€¼ xâ‚™: <span id="xnValue">0.1000</span></span>
                            <span>ä¸æé™çš„è·ç¦»: <span id="distanceValue">0.1000</span></span>
                        </div>
                        <input type="range" min="1" max="50" value="10" class="slider" id="nSlider" oninput="updateSequenceGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeSequence(1)">xâ‚™ = 1/n</button>
                        <button class="control-btn" onclick="changeSequence(2)">xâ‚™ = (n+1)/(2n)</button>
                        <button class="control-btn" onclick="changeSequence(3)">xâ‚™ = (-1)â¿/n</button>
                        <button class="control-btn" onclick="toggleSequenceAnimation()">æ’­æ”¾/æš‚åœåŠ¨ç”»</button>
                    </div>
                    <div class="graph-description" id="sequenceDescription">
                        æ‹–åŠ¨æ»‘å—æŸ¥çœ‹ä¸åŒé¡¹æ•°çš„æ•°åˆ—å€¼ã€‚ç»¿è‰²åŒºåŸŸè¡¨ç¤ºÎµå¸¦ï¼ˆè¯¯å·®èŒƒå›´ï¼‰
                    </div>
                </div>
                
                <div class="analogy-box">
                    <h4><i class="fas fa-user-friends"></i> ç”Ÿæ´»ç±»æ¯”</h4>
                    <p><strong>Îµ-Nè¯­è¨€å°±åƒè¿½æ˜Ÿï¼š</strong></p>
                    <p>Îµï¼šä½ å¯ä»¥æ¥å—çš„ä¸å¶åƒçš„è·ç¦»ï¼ˆæ¯”å¦‚100ç±³ï¼‰</p>
                    <p>Nï¼šä»æŸä¸ªæ—¶é—´ç‚¹å¼€å§‹ï¼ˆæ¯”å¦‚å¶åƒå‡ºé“3å¹´åï¼‰</p>
                    <p>ç»“è®ºï¼šä»é‚£ä¸ªæ—¶é—´ç‚¹ä»¥åï¼Œä½ ä¸å¶åƒçš„è·ç¦»ä¸€ç›´å°äº100ç±³</p>
                    <p>å¦‚æœå¯¹ä»»æ„è·ç¦»è¦æ±‚ï¼ˆæ— è®ºå¤šå°ï¼‰éƒ½èƒ½æ‰¾åˆ°è¿™æ ·çš„æ—¶é—´ç‚¹ï¼Œé‚£ä¹ˆä½ å°±æ˜¯ç»ˆæé“ç²‰ï¼ˆæ•°åˆ—æ”¶æ•›ï¼‰</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>æ•°åˆ—æé™ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('sequence')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. ç”¨Îµ-Nå®šä¹‰è¯æ˜ \( \lim_{n \to \infty} \frac{1}{n} = 0 \)</div>
                            <button class="answer-btn" onclick="toggleAnswer('sequence1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-sequence1" class="answer">
                                <p><strong>è¯æ˜ï¼š</strong></p>
                                <p>âˆ€Îµ>0ï¼ˆæ— è®ºä½ è¦æ±‚å¤šç²¾ç¡®ï¼‰ï¼Œå– \( N = \left[ \frac{1}{\varepsilon} \right] \)ï¼ˆæ‰¾åˆ°åˆé€‚çš„èµ·ç‚¹ï¼‰</p>
                                <p>å½“ \( n > N \) æ—¶ï¼ˆä»è¿™ä¸ªèµ·ç‚¹å¾€åï¼‰ï¼Œ\( \left| \frac{1}{n} - 0 \right| < \varepsilon \)ï¼ˆè¯¯å·®éƒ½å°äºè¦æ±‚ï¼‰</p>
                                <p>æ‰€ä»¥ \( \lim_{n \to \infty} \frac{1}{n} = 0 \)ï¼ˆæé™ä¸º0ï¼Œå°±åƒä½ çš„é’±åŒ…ä½™é¢æ— é™æ¥è¿‘0ä½†æ°¸è¿œä¸ä¸ºè´Ÿï¼‰</p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. è®¡ç®—ä¸‹åˆ—æ•°åˆ—æé™ï¼š</div>
                            <p>A. \( \lim_{n \to \infty} \frac{2n+1}{3n-2} \)</p>
                            <p>B. \( \lim_{n \to \infty} \frac{n^2+3n}{2n^2-1} \)</p>
                            <p>C. \( \lim_{n \to \infty} \sqrt{n+1} - \sqrt{n} \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('sequence2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-sequence2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{n \to \infty} \frac{2n+1}{3n-2} = \lim_{n \to \infty} \frac{2+\frac{1}{n}}{3-\frac{2}{n}} = \frac{2}{3} \) ï¼ˆåˆ†å­åˆ†æ¯åŒé™¤ä»¥nï¼‰</p>
                                <p>B. \( \lim_{n \to \infty} \frac{n^2+3n}{2n^2-1} = \lim_{n \to \infty} \frac{1+\frac{3}{n}}{2-\frac{1}{n^2}} = \frac{1}{2} \) ï¼ˆåˆ†å­åˆ†æ¯åŒé™¤ä»¥nÂ²ï¼‰</p>
                                <p>C. \( \lim_{n \to \infty} (\sqrt{n+1} - \sqrt{n}) = \lim_{n \to \infty} \frac{1}{\sqrt{n+1}+\sqrt{n}} = 0 \) ï¼ˆæœ‰ç†åŒ–ï¼‰</p>
                                <p><em>æŠ€å·§ï¼šçœ‹åˆ°âˆï¼Œå°±æƒ³åŠæ³•è®©nå‡ºç°åœ¨åˆ†æ¯ï¼</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- å‡½æ•°æé™ -->
            <section id="function-limit" class="graph-section">
                <h2><i class="fas fa-bullseye"></i> ä¸‰ã€å‡½æ•°æé™ï¼šxçš„"ç»ˆæç›®æ ‡"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>Îµ-Î´è¯­è¨€ï¼š</strong>å¯¹âˆ€Îµ>0ï¼ŒâˆƒÎ´>0ï¼Œå½“0<|x-xâ‚€|<Î´æ—¶ï¼Œ|f(x)-A|<Îµã€‚</p>
                    <p><strong>å•ä¾§æé™ï¼š</strong>å·¦å³æé™å­˜åœ¨ä¸”ç›¸ç­‰â‡’æé™å­˜åœ¨ã€‚</p>
                    
                    <div class="formula">
                        $$ \lim_{x \to x_0} f(x) = A \Leftrightarrow \forall \varepsilon > 0, \exists \delta > 0, \text{å½“} 0 < |x - x_0| < \delta \text{æ—¶}, |f(x) - A| < \varepsilon $$
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šÎµ-Î´æé™å®šä¹‰äº¤äº’ -->
                <div class="dynamic-graph">
                    <div class="graph-title">Îµ-Î´æé™å®šä¹‰äº¤äº’æ¼”ç¤ºï¼š\( f(x) = x^2 \) åœ¨ xâ†’2</div>
                    <canvas id="epsilonDeltaCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Îµ (yæ–¹å‘å®¹å·®): <span id="epsilonValue">0.5</span></span>
                            <span>Î´ (xæ–¹å‘èŒƒå›´): <span id="deltaValue">0.2</span></span>
                            <span>xå€¼: <span id="xValueLimit">2.0</span></span>
                        </div>
                        <input type="range" min="1" max="100" value="50" class="slider" id="epsilonSlider" oninput="updateEpsilonDelta()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeLimitFunction(1)">f(x)=xÂ²</button>
                        <button class="control-btn" onclick="changeLimitFunction(2)">f(x)=sin(x)</button>
                        <button class="control-btn" onclick="changeLimitFunction(3)">f(x)=1/x</button>
                        <button class="control-btn" onclick="resetLimitPoint()">é‡ç½®æé™ç‚¹</button>
                    </div>
                    <div class="graph-description" id="epsilonDeltaDescription">
                        è°ƒæ•´Îµæ»‘å—æ”¹å˜yæ–¹å‘å®¹å·®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—Î´ã€‚ç»¿è‰²åŒºåŸŸè¡¨ç¤º(xâ‚€-Î´, xâ‚€+Î´)Ã—(A-Îµ, A+Îµ)
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šå·¦å³æé™æ¼”ç¤º -->
                <div class="dynamic-graph">
                    <div class="graph-title">å·¦å³æé™æ¼”ç¤ºï¼š\( f(x) = \frac{|x|}{x} \) åœ¨ xâ†’0</div>
                    <canvas id="leftRightCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>ä»å·¦é€¼è¿‘: <span id="leftApproach">-0.1</span></span>
                            <span>ä»å³é€¼è¿‘: <span id="rightApproach">0.1</span></span>
                            <span>å·¦æé™: <span id="leftLimit">-1</span>, å³æé™: <span id="rightLimit">1</span></span>
                        </div>
                        <input type="range" min="1" max="100" value="10" class="slider" id="approachSlider" oninput="updateLeftRightGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeLRFunction(1)">f(x)=|x|/x</button>
                        <button class="control-btn" onclick="changeLRFunction(2)">f(x)=åˆ†æ®µå‡½æ•°</button>
                        <button class="control-btn" onclick="toggleLRAnimation()">æ’­æ”¾é€¼è¿‘åŠ¨ç”»</button>
                    </div>
                    <div class="graph-description" id="leftRightDescription">
                        å·¦å³æé™ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥æé™ä¸å­˜åœ¨ï¼ˆè·³è·ƒé—´æ–­ç‚¹ï¼‰
                    </div>
                </div>
                
                <div class="analogy-box">
                    <h4><i class="fas fa-balance-scale"></i> Îµ-Î´è¯­è¨€çš„æç¬‘è§£é‡Š</h4>
                    <p><strong>Îµ-Î´å°±åƒå°„ç®­ï¼š</strong></p>
                    <p>Îµï¼šé¶å­çš„å¤§å°ï¼ˆä½ å…è®¸çš„è¯¯å·®èŒƒå›´ï¼‰</p>
                    <p>Î´ï¼šä½ ç¦»é¶å¿ƒçš„è·ç¦»ï¼ˆxæ¥è¿‘xâ‚€çš„ç¨‹åº¦ï¼‰</p>
                    <p>ç»“è®ºï¼šåªè¦ä½ ç«™å¾—è¶³å¤Ÿè¿‘ï¼ˆÎ´è¶³å¤Ÿå°ï¼‰ï¼Œå°±èƒ½å°„ä¸­é¶å­ï¼ˆè¯¯å·®å°äºÎµï¼‰</p>
                    <p>å¦‚æœå¯¹äºä»»æ„å¤§å°çš„é¶å­ï¼Œéƒ½èƒ½æ‰¾åˆ°åˆé€‚çš„ç«™ä½ï¼Œé‚£ä¹ˆä½ å°±æ˜¯ç¥ç®­æ‰‹ï¼ˆæé™å­˜åœ¨ï¼‰</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>å‡½æ•°æé™ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('function-limit')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. åˆ¤æ–­ \( \lim_{x \to 0} \frac{|x|}{x} \) æ˜¯å¦å­˜åœ¨</div>
                            <button class="answer-btn" onclick="toggleAnswer('flimit1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-flimit1" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>å·¦æé™ï¼š\( \lim_{x \to 0^-} \frac{|x|}{x} = \lim_{x \to 0^-} \frac{-x}{x} = -1 \)</p>
                                <p>å³æé™ï¼š\( \lim_{x \to 0^+} \frac{|x|}{x} = \lim_{x \to 0^+} \frac{x}{x} = 1 \)</p>
                                <p>å·¦å³æé™ä¸ç›¸ç­‰â‡’<strong>æé™ä¸å­˜åœ¨</strong></p>
                                <p><em>å°±åƒä¸€ä¸ªäººä»å·¦è¾¹çœ‹æ˜¯-1ç±³é«˜ï¼Œä»å³è¾¹çœ‹æ˜¯1ç±³é«˜ï¼Œè¿™äººè‚¯å®šä¸å­˜åœ¨ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. è®¡ç®—ä¸‹åˆ—æé™ï¼š</div>
                            <p>A. \( \lim_{x \to 2} \frac{x^2-4}{x-2} \)</p>
                            <p>B. \( \lim_{x \to 1} \frac{\sqrt{x}-1}{x-1} \)</p>
                            <p>C. \( \lim_{x \to 0} \frac{\sin 2x}{x} \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('flimit2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-flimit2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{x \to 2} \frac{(x-2)(x+2)}{x-2} = \lim_{x \to 2} (x+2) = 4 \) ï¼ˆçº¦å»é›¶å› å­ï¼‰</p>
                                <p>B. \( \lim_{x \to 1} \frac{\sqrt{x}-1}{x-1} = \lim_{x \to 1} \frac{1}{\sqrt{x}+1} = \frac{1}{2} \) ï¼ˆæœ‰ç†åŒ–ï¼‰</p>
                                <p>C. \( \lim_{x \to 0} \frac{\sin 2x}{x} = \lim_{x \to 0} \frac{2\sin 2x}{2x} = 2 \) ï¼ˆé‡è¦æé™ï¼‰</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- æé™å­˜åœ¨å‡†åˆ™ -->
            <section id="limit-criteria" class="graph-section">
                <h2><i class="fas fa-filter"></i> å››ã€æé™å­˜åœ¨å‡†åˆ™ï¼šæ•°å­¦ç•Œçš„"å®‰æ£€è§„åˆ™"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>å¤¹é€¼å‡†åˆ™ï¼ˆä¸‰æ˜æ²»å®šç†ï¼‰ï¼š</strong>å¦‚æœ \(g(x) \le f(x) \le h(x)\)ï¼Œä¸” \(\lim g(x) = \lim h(x) = A\)ï¼Œåˆ™ \(\lim f(x) = A\)ã€‚</p>
                    <p><strong>å•è°ƒæœ‰ç•Œå‡†åˆ™ï¼š</strong>å•è°ƒæœ‰ç•Œæ•°åˆ—å¿…æœ‰æé™ï¼ˆå°±åƒç”µæ¢¯ï¼šä¸€ç›´å¾€ä¸Š/ä¸‹ä¸”æœ‰å¤©èŠ±æ¿/åœ°æ¿ï¼Œæ€»ä¼šåœï¼‰ã€‚</p>
                    
                    <div class="formula">
                        å¤¹é€¼å‡†åˆ™ï¼šè‹¥ \( g(x) \le f(x) \le h(x) \)ï¼Œä¸” \( \lim\limits_{x \to x_0} g(x) = \lim\limits_{x \to x_0} h(x) = A \)ï¼Œåˆ™ \( \lim\limits_{x \to x_0} f(x) = A \)
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šå¤¹é€¼å‡†åˆ™åŠ¨ç”» -->
                <div class="dynamic-graph">
                    <div class="graph-title">å¤¹é€¼å‡†åˆ™åŠ¨ç”»æ¼”ç¤º</div>
                    <canvas id="squeezeCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="squeezeXValue">1.0</span></span>
                            <span>g(x): <span id="gValue">-1.00</span>, f(x): <span id="fValue">0.84</span>, h(x): <span id="hValue">1.00</span></span>
                        </div>
                        <input type="range" min="10" max="100" value="50" class="slider" id="squeezeSlider" oninput="updateSqueezeGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeSqueezeExample(1)">ä¾‹1: sin(x)/x</button>
                        <button class="control-btn" onclick="changeSqueezeExample(2)">ä¾‹2: xÂ²sin(1/x)</button>
                        <button class="control-btn" onclick="changeSqueezeExample(3)">ä¾‹3: æ•°åˆ—å¤¹é€¼</button>
                        <button class="control-btn" onclick="toggleSqueezeAnimation()">æ’­æ”¾/æš‚åœåŠ¨ç”»</button>
                    </div>
                    <div class="graph-description" id="squeezeDescription">
                        è“è‰²: g(x), çº¢è‰²: f(x), ç»¿è‰²: h(x)ã€‚å½“g(x)å’Œh(x)éƒ½è¶‹äºAæ—¶ï¼Œf(x)ä¹Ÿè¢«"å¤¹"åˆ°A
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šå•è°ƒæœ‰ç•Œå‡†åˆ™ -->
                <div class="dynamic-graph">
                    <div class="graph-title">å•è°ƒæœ‰ç•Œå‡†åˆ™ï¼š\( a_{n+1} = \sqrt{2 + a_n} \), \( a_1 = \sqrt{2} \)</div>
                    <canvas id="monotoneCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>é¡¹æ•°: <span id="monotoneN">5</span></span>
                            <span>å½“å‰å€¼: <span id="monotoneValue">1.8478</span></span>
                            <span>æé™å€¼: <span id="monotoneLimit">2.0</span></span>
                        </div>
                        <input type="range" min="1" max="20" value="5" class="slider" id="monotoneSlider" oninput="updateMonotoneGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeMonotoneExample(1)">å•è°ƒé€’å¢</button>
                        <button class="control-btn" onclick="changeMonotoneExample(2)">å•è°ƒé€’å‡</button>
                        <button class="control-btn" onclick="startMonotoneAnimation()">æ’­æ”¾æ”¶æ•›åŠ¨ç”»</button>
                    </div>
                    <div class="graph-description" id="monotoneDescription">
                        å•è°ƒæœ‰ç•Œæ•°åˆ—å¿…æœ‰æé™ã€‚çº¢è‰²çº¿è¡¨ç¤ºä¸Š/ä¸‹ç•Œï¼Œæ•°åˆ—è¢«é™åˆ¶åœ¨ç•Œå†…å¹¶å•è°ƒé€¼è¿‘æé™
                    </div>
                </div>
                
                <div class="funny-explanation">
                    <h4><i class="fas fa-hamburger"></i> å¤¹é€¼å‡†åˆ™çš„"æ±‰å ¡åŒ…"æ¯”å–»</h4>
                    <p>æƒ³è±¡ä¸€ä¸ªæ±‰å ¡åŒ…ï¼š</p>
                    <p>ä¸‹å±‚é¢åŒ… = g(x)ï¼Œä¸Šå±‚é¢åŒ… = h(x)ï¼Œä¸­é—´çš„è‚‰é¥¼ = f(x)</p>
                    <p>å¦‚æœä¸Šä¸‹ä¸¤å±‚é¢åŒ…éƒ½å‹å‘åŒä¸€ä¸ªé«˜åº¦ï¼Œä¸­é—´çš„è‚‰é¥¼ä¹Ÿåªèƒ½è¢«å‹åˆ°é‚£ä¸ªé«˜åº¦ï¼</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>æé™å­˜åœ¨å‡†åˆ™ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('criteria')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. ç”¨å¤¹é€¼å‡†åˆ™è¯æ˜ \( \lim_{n \to \infty} \frac{n!}{n^n} = 0 \)</div>
                            <button class="answer-btn" onclick="toggleAnswer('criteria1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-criteria1" class="answer">
                                <p><strong>è¯æ˜ï¼š</strong></p>
                                <p>å› ä¸º \( 0 < \frac{n!}{n^n} = \frac{1}{n} \cdot \frac{2}{n} \cdot \frac{3}{n} \cdots \frac{n}{n} \le \frac{1}{n} \)</p>
                                <p>è€Œ \( \lim_{n \to \infty} 0 = 0 \)ï¼Œ\( \lim_{n \to \infty} \frac{1}{n} = 0 \)</p>
                                <p>ç”±å¤¹é€¼å‡†åˆ™å¾— \( \lim_{n \to \infty} \frac{n!}{n^n} = 0 \)</p>
                                <p><em>è¿™å°±åƒæŠŠn!å¤¹åœ¨0å’Œ1/nä¹‹é—´ï¼Œä¸¤è¾¹éƒ½è¶‹äº0ï¼Œä¸­é—´ä¹Ÿåªèƒ½è¶‹äº0ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. ç”¨å¤¹é€¼å‡†åˆ™æ±‚æé™ \( \lim_{x \to 0} x \sin\frac{1}{x} \)</div>
                            <button class="answer-btn" onclick="toggleAnswer('criteria2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-criteria2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>å› ä¸º \( -|x| \le x \sin\frac{1}{x} \le |x| \) ï¼ˆsinçš„èŒƒå›´æ˜¯[-1,1]ï¼‰</p>
                                <p>è€Œ \( \lim_{x \to 0} (-|x|) = 0 \)ï¼Œ\( \lim_{x \to 0} |x| = 0 \)</p>
                                <p>ç”±å¤¹é€¼å‡†åˆ™å¾— \( \lim_{x \to 0} x \sin\frac{1}{x} = 0 \)</p>
                                <p><em>sin(1/x)è™½ç„¶æŒ¯è¡å¾—åƒä¸ªç–¯å­ï¼Œä½†è¢«Â±|x|å¤¹ç€ï¼Œåªèƒ½ä¹–ä¹–è¶‹äº0ï¼</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- æé™è¿ç®—æ³•åˆ™ -->
            <section id="limit-operations" class="graph-section">
                <h2><i class="fas fa-calculator"></i> äº”ã€æé™è¿ç®—æ³•åˆ™ï¼šæ•°å­¦ç•Œçš„"åŠ å‡ä¹˜é™¤ç‰¹æƒ"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p>å¦‚æœ \(\lim f(x) = A\)ï¼Œ\(\lim g(x) = B\)ï¼Œé‚£ä¹ˆï¼š</p>
                    
                    <div class="operation-rule">
                        <div>æé™çš„å’Œï¼š</div>
                        <div class="math-symbol">+</div>
                        <div>\(\lim [f(x) + g(x)] = A + B\)</div>
                    </div>
                    
                    <div class="operation-rule">
                        <div>æé™çš„å·®ï¼š</div>
                        <div class="math-symbol">-</div>
                        <div>\(\lim [f(x) - g(x)] = A - B\)</div>
                    </div>
                    
                    <div class="operation-rule">
                        <div>æé™çš„ç§¯ï¼š</div>
                        <div class="math-symbol">Ã—</div>
                        <div>\(\lim [f(x) \cdot g(x)] = A \cdot B\)</div>
                    </div>
                    
                    <div class="operation-rule">
                        <div>æé™çš„å•†ï¼š</div>
                        <div class="math-symbol">Ã·</div>
                        <div>\(\lim \frac{f(x)}{g(x)} = \frac{A}{B}\) (Bâ‰ 0)</div>
                    </div>
                    
                    <div class="warning" style="margin-top: 15px;">
                        <p><strong>âš ï¸ æ³¨æ„ï¼š</strong>è¿™äº›æ³•åˆ™åªåœ¨æé™å­˜åœ¨æ—¶æ‰èƒ½ç”¨ï¼</p>
                        <p>é‡åˆ°"âˆ-âˆ"ã€"0/0"ã€"âˆ/âˆ"ã€"0Ã—âˆ"ç­‰æœªå®šå¼æ—¶ï¼Œéœ€è¦å…ˆå¤„ç†å†ç”¨æ³•åˆ™ã€‚</p>
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šæé™è¿ç®—å¯è§†åŒ– -->
                <div class="dynamic-graph">
                    <div class="graph-title">æé™è¿ç®—å¯è§†åŒ–ï¼š\( f(x) = \sin x \), \( g(x) = x^2 \) åœ¨ xâ†’0</div>
                    <canvas id="operationsCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="opXValue">0.5</span></span>
                            <span>f(x): <span id="fOpValue">0.4794</span>, g(x): <span id="gOpValue">0.2500</span></span>
                        </div>
                        <input type="range" min="1" max="100" value="50" class="slider" id="opSlider" oninput="updateOperationsGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="showOperation('sum')">f(x)+g(x)</button>
                        <button class="control-btn" onclick="showOperation('product')">f(x)Ã—g(x)</button>
                        <button class="control-btn" onclick="showOperation('quotient')">f(x)/g(x)</button>
                        <button class="control-btn" onclick="showOperation('difference')">f(x)-g(x)</button>
                        <button class="control-btn" onclick="resetOperations()">æ˜¾ç¤ºæ‰€æœ‰å‡½æ•°</button>
                    </div>
                    <div class="graph-description" id="operationsDescription">
                        ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒè¿ç®—çš„ç»“æœã€‚æ³¨æ„é™¤æ³•åœ¨x=0å¤„æ˜¯æœªå®šå¼0/0ï¼Œä½†æé™å­˜åœ¨
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šæœªå®šå¼å¤„ç† -->
                <div class="dynamic-graph">
                    <div class="graph-title">æœªå®šå¼å¤„ç†ï¼š\( \frac{\sin x}{x} \) åœ¨ xâ†’0 (0/0å‹)</div>
                    <canvas id="indeterminateCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="indeterminateX">0.5</span></span>
                            <span>åˆ†å­: <span id="numeratorValue">0.4794</span>, åˆ†æ¯: <span id="denominatorValue">0.5000</span></span>
                            <span>æ¯”å€¼: <span id="ratioValue">0.9589</span>, æé™: 1</span>
                        </div>
                        <input type="range" min="1" max="100" value="50" class="slider" id="indeterminateSlider" oninput="updateIndeterminateGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeIndeterminate(1)">sin(x)/x</button>
                        <button class="control-btn" onclick="changeIndeterminate(2)">(eË£-1)/x</button>
                        <button class="control-btn" onclick="changeIndeterminate(3)">(1-cos(x))/xÂ²</button>
                        <button class="control-btn" onclick="showLimitApproach()">æ˜¾ç¤ºæé™é€¼è¿‘</button>
                    </div>
                    <div class="graph-description" id="indeterminateDescription">
                        è™½ç„¶å‡½æ•°åœ¨x=0å¤„æ˜¯0/0æœªå®šå¼ï¼Œä½†æé™å­˜åœ¨ã€‚æ‹–åŠ¨æ»‘å—æŸ¥çœ‹xâ†’0æ—¶çš„é€¼è¿‘è¿‡ç¨‹
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>æé™è¿ç®—æ³•åˆ™ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('operations')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. å·²çŸ¥ \( \lim_{x \to 1} f(x) = 2 \)ï¼Œ\( \lim_{x \to 1} g(x) = 3 \)ï¼Œæ±‚ï¼š</div>
                            <p>A. \( \lim_{x \to 1} [2f(x) - g(x)] \)</p>
                            <p>B. \( \lim_{x \to 1} \frac{f(x)}{g(x)} \)</p>
                            <p>C. \( \lim_{x \to 1} [f(x)]^2 \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('operations1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-operations1" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( 2\times 2 - 3 = 1 \) ï¼ˆå…ˆä¹˜åå‡ï¼‰</p>
                                <p>B. \( \frac{2}{3} \) ï¼ˆç›´æ¥é™¤ï¼‰</p>
                                <p>C. \( 2^2 = 4 \) ï¼ˆå¹³æ–¹ï¼‰</p>
                                <p><em>æé™è¿ç®—å°±åƒç®—æœ¯ï¼Œåªè¦æé™å­˜åœ¨ï¼ŒåŠ å‡ä¹˜é™¤éšä¾¿æ¥ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. è®¡ç®—æé™ï¼ˆæ³¨æ„æœªå®šå¼çš„å¤„ç†ï¼‰ï¼š</div>
                            <p>A. \( \lim_{x \to 0} \frac{\sin 3x}{\sin 5x} \)</p>
                            <p>B. \( \lim_{x \to 1} \frac{x^3-1}{x^2-1} \)</p>
                            <p>C. \( \lim_{x \to 0} \frac{\sqrt{1+x}-1}{x} \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('operations2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-operations2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{x \to 0} \frac{\sin 3x}{\sin 5x} = \lim_{x \to 0} \frac{3\sin 3x}{3x} \cdot \frac{5x}{5\sin 5x} \cdot \frac{3}{5} = \frac{3}{5} \)</p>
                                <p>B. \( \lim_{x \to 1} \frac{(x-1)(x^2+x+1)}{(x-1)(x+1)} = \lim_{x \to 1} \frac{x^2+x+1}{x+1} = \frac{3}{2} \)</p>
                                <p>C. \( \lim_{x \to 0} \frac{\sqrt{1+x}-1}{x} = \lim_{x \to 0} \frac{1}{\sqrt{1+x}+1} = \frac{1}{2} \)</p>
                                <p><em>é‡åˆ°0/0åˆ«æ…Œï¼Œå› å¼åˆ†è§£ã€æœ‰ç†åŒ–ã€é‡è¦æé™æ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ï¼</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ä¸¤ä¸ªé‡è¦æé™ -->
            <section id="important-limits" class="graph-section">
                <h2><i class="fas fa-star"></i> å…­ã€ä¸¤ä¸ªé‡è¦æé™ï¼šé«˜æ•°ç•Œçš„"æ˜æ˜Ÿå…¬å¼"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>ç¬¬ä¸€é‡è¦æé™ï¼š</strong>\( \lim_{x \to 0} \frac{\sin x}{x} = 1 \)</p>
                    <p><strong>ç¬¬äºŒé‡è¦æé™ï¼š</strong>\( \lim_{x \to \infty} \left(1+\frac{1}{x}\right)^x = e \)</p>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šç¬¬ä¸€é‡è¦æé™å‡ ä½•è¯æ˜ -->
                <div class="dynamic-graph">
                    <div class="graph-title">ç¬¬ä¸€é‡è¦æé™å‡ ä½•è¯æ˜ï¼šå•ä½åœ†ä¸­çš„ sin(x), x, tan(x)</div>
                    <canvas id="firstLimitCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>è§’åº¦ x: <span id="angleValue">0.5</span> å¼§åº¦</span>
                            <span>sin(x): <span id="sinValue">0.4794</span>, x: <span id="arcValue">0.5000</span>, tan(x): <span id="tanValue">0.5463</span></span>
                        </div>
                        <input type="range" min="1" max="80" value="25" class="slider" id="angleSlider" oninput="updateFirstLimit()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="toggleUnitCircle()">æ˜¾ç¤º/éšè—å•ä½åœ†</button>
                        <button class="control-btn" onclick="toggleInequality()">æ˜¾ç¤º sin(x) < x < tan(x)</button>
                        <button class="control-btn" onclick="animateFirstLimit()">æ’­æ”¾é€¼è¿‘åŠ¨ç”»</button>
                    </div>
                    <div class="graph-description" id="firstLimitDescription">
                        åœ¨å•ä½åœ†ä¸­ï¼Œå½“xâ†’0æ—¶ï¼Œsin(x) â‰ˆ x â‰ˆ tan(x)ï¼Œæ‰€ä»¥ sin(x)/x â†’ 1
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šç¬¬äºŒé‡è¦æé™ä¸å¤åˆ© -->
                <div class="dynamic-graph">
                    <div class="graph-title">ç¬¬äºŒé‡è¦æé™ä¸å¤åˆ©ï¼š\( \lim_{n \to \infty} (1+\frac{1}{n})^n = e \)</div>
                    <canvas id="secondLimitCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>è®¡æ¯æ¬¡æ•° n: <span id="compoundN">10</span></span>
                            <span>å¹´åˆ©ç‡: 100%</span>
                            <span>ç»ˆå€¼: <span id="compoundValue">2.5937</span>, e â‰ˆ 2.7183</span>
                        </div>
                        <input type="range" min="1" max="100" value="10" class="slider" id="compoundSlider" oninput="updateSecondLimit()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeCompoundRate(1)">åˆ©ç‡100%</button>
                        <button class="control-btn" onclick="changeCompoundRate(2)">åˆ©ç‡50%</button>
                        <button class="control-btn" onclick="changeCompoundRate(3)">åˆ©ç‡200%</button>
                        <button class="control-btn" onclick="animateToInfinity()">æ’­æ”¾nâ†’âˆåŠ¨ç”»</button>
                    </div>
                    <div class="graph-description" id="secondLimitDescription">
                        å¤åˆ©è®¡ç®—ï¼šå¹´åˆ©ç‡100%ï¼Œä¸€å¹´è®¡æ¯næ¬¡ï¼Œå½“nâ†’âˆæ—¶è¶‹è¿‘äºe
                    </div>
                </div>
                
                <div class="analogy-box">
                    <h4><i class="fas fa-money-bill-wave"></i> ç¬¬äºŒé‡è¦æé™çš„é‡‘èè§£é‡Š</h4>
                    <p><strong>å¤åˆ©è®¡ç®—ï¼š</strong>ç¬¬äºŒé‡è¦æé™å…¶å®å°±æ˜¯å¤åˆ©çš„è¿ç»­è®¡ç®—ï¼</p>
                    <p>å¹´åˆ©ç‡100%ï¼Œä¸€å¹´è®¡æ¯ä¸€æ¬¡ï¼š\( (1+1)^1 = 2 \)</p>
                    <p>ä¸€å¹´è®¡æ¯næ¬¡ï¼š\( (1+\frac{1}{n})^n \)</p>
                    <p>è¿ç»­å¤åˆ©ï¼ˆnâ†’âˆï¼‰ï¼šæé™å°±æ˜¯e â‰ˆ 2.71828</p>
                    <p>æ‰€ä»¥eæ˜¯"é’±ç”Ÿé’±"çš„ç»ˆææ•ˆç‡ï¼</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>é‡è¦æé™ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('important')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. è®¡ç®—ä¸‹åˆ—æé™ï¼š</div>
                            <p>A. \( \lim_{x \to 0} \frac{1 - \cos x}{x^2} \)</p>
                            <p>B. \( \lim_{x \to 0} \frac{\tan 3x}{x} \)</p>
                            <p>C. \( \lim_{x \to 0} \frac{\sin 5x}{\sin 2x} \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('important1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-important1" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{x \to 0} \frac{1 - \cos x}{x^2} = \lim_{x \to 0} \frac{2\sin^2(x/2)}{x^2} = \frac{1}{2} \)</p>
                                <p>B. \( \lim_{x \to 0} \frac{\tan 3x}{x} = \lim_{x \to 0} \frac{3\tan 3x}{3x} = 3 \)</p>
                                <p>C. \( \lim_{x \to 0} \frac{\sin 5x}{\sin 2x} = \lim_{x \to 0} \frac{5\sin 5x}{5x} \cdot \frac{2x}{2\sin 2x} \cdot \frac{5}{2} = \frac{5}{2} \)</p>
                                <p><em>çœ‹åˆ°ä¸‰è§’å‡½æ•°çš„0/0ï¼Œç¬¬ä¸€ååº”ï¼šé‡è¦æé™ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. è®¡ç®—ä¸‹åˆ—æé™ï¼š</div>
                            <p>A. \( \lim_{x \to \infty} \left(1+\frac{2}{x}\right)^x \)</p>
                            <p>B. \( \lim_{x \to 0} (1+3x)^{\frac{1}{x}} \)</p>
                            <p>C. \( \lim_{x \to \infty} \left(\frac{x+1}{x-1}\right)^x \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('important2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-important2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{x \to \infty} \left(1+\frac{2}{x}\right)^x = \lim_{x \to \infty} \left[\left(1+\frac{2}{x}\right)^{\frac{x}{2}}\right]^2 = e^2 \)</p>
                                <p>B. \( \lim_{x \to 0} (1+3x)^{\frac{1}{x}} = \lim_{x \to 0} \left[(1+3x)^{\frac{1}{3x}}\right]^3 = e^3 \)</p>
                                <p>C. \( \lim_{x \to \infty} \left(\frac{x+1}{x-1}\right)^x = \lim_{x \to \infty} \left(1+\frac{2}{x-1}\right)^x = e^2 \)</p>
                                <p><em>çœ‹åˆ°1^âˆï¼Œç¬¬äºŒååº”ï¼šç¬¬äºŒé‡è¦æé™ï¼</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- æ— ç©·å°æ¯”è¾ƒ -->
            <section id="infinitesimal-comparison" class="graph-section">
                <h2><i class="fas fa-balance-scale-left"></i> ä¸ƒã€æ— ç©·å°æ¯”è¾ƒï¼šè°æ›´"å°"ï¼Ÿ</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p>è®¾Î±,Î²æ˜¯åŒä¸€æé™è¿‡ç¨‹ä¸­çš„æ— ç©·å°ï¼š</p>
                    <div class="formula">
                        é«˜é˜¶ï¼š\(\lim \frac{\alpha}{\beta} = 0\) (è®°ä½œ \(\alpha = o(\beta)\))<br>
                        ç­‰ä»·ï¼š\(\lim \frac{\alpha}{\beta} = 1\) (è®°ä½œ \(\alpha \sim \beta\))
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šæ— ç©·å°æ¯”è¾ƒ -->
                <div class="dynamic-graph">
                    <div class="graph-title">æ— ç©·å°æ¯”è¾ƒï¼šå½“xâ†’0æ—¶ï¼Œä¸åŒé˜¶æ— ç©·å°çš„è¶‹è¿‘é€Ÿåº¦</div>
                    <canvas id="infinitesimalCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="infXValue">0.5</span></span>
                            <span>Î±=x: <span id="alphaValue">0.5000</span>, Î²=xÂ²: <span id="betaValue">0.2500</span></span>
                            <span>æ¯”å€¼ Î±/Î²: <span id="ratioInfValue">2.0000</span></span>
                        </div>
                        <input type="range" min="1" max="100" value="50" class="slider" id="infSlider" oninput="updateInfinitesimalGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="compareInfinitesimal(1,2)">æ¯”è¾ƒ x å’Œ xÂ²</button>
                        <button class="control-btn" onclick="compareInfinitesimal(2,3)">æ¯”è¾ƒ xÂ² å’Œ xÂ³</button>
                        <button class="control-btn" onclick="compareInfinitesimal(0.5,1)">æ¯”è¾ƒ âˆšx å’Œ x</button>
                        <button class="control-btn" onclick="showAllInfinitesimals()">æ˜¾ç¤ºå¤šä¸ªæ— ç©·å°</button>
                    </div>
                    <div class="graph-description" id="infinitesimalDescription">
                        é«˜é˜¶æ— ç©·å°æ›´å¿«è¶‹äº0ã€‚å½“xâ†’0æ—¶ï¼ŒxÂ²æ˜¯xçš„é«˜é˜¶æ— ç©·å°
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šç­‰ä»·æ— ç©·å°æ›¿æ¢ -->
                <div class="dynamic-graph">
                    <div class="graph-title">ç­‰ä»·æ— ç©·å°æ›¿æ¢ï¼šå½“xâ†’0æ—¶ï¼Œsin(x) ~ x, tan(x) ~ x</div>
                    <canvas id="equivalentCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="equivXValue">0.5</span></span>
                            <span>sin(x): <span id="sinEquivValue">0.4794</span>, x: <span id="xEquivValue">0.5000</span></span>
                            <span>è¯¯å·®: <span id="errorValue">4.11%</span></span>
                        </div>
                        <input type="range" min="1" max="50" value="25" class="slider" id="equivSlider" oninput="updateEquivalentGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeEquivalent(1)">sin(x) ~ x</button>
                        <button class="control-btn" onclick="changeEquivalent(2)">tan(x) ~ x</button>
                        <button class="control-btn" onclick="changeEquivalent(3)">eË£-1 ~ x</button>
                        <button class="control-btn" onclick="changeEquivalent(4)">ln(1+x) ~ x</button>
                    </div>
                    <div class="graph-description" id="equivalentDescription">
                        å½“xâ†’0æ—¶ï¼Œsin(x)å’Œxå‡ ä¹é‡åˆï¼Œå¯ä»¥äº’ç›¸æ›¿æ¢ï¼ˆä¹˜é™¤è¿ç®—ï¼‰
                    </div>
                </div>
                
                <div class="tip">
                    <p><strong>å¸¸ç”¨ç­‰ä»·æ— ç©·å°ï¼ˆxâ†’0ï¼‰ï¼š</strong></p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                        <div>\( \sin x \sim x \)</div>
                        <div>\( \tan x \sim x \)</div>
                        <div>\( \arcsin x \sim x \)</div>
                        <div>\( \arctan x \sim x \)</div>
                        <div>\( 1 - \cos x \sim \frac{1}{2}x^2 \)</div>
                        <div>\( e^x - 1 \sim x \)</div>
                        <div>\( \ln(1 + x) \sim x \)</div>
                        <div>\( (1 + x)^a - 1 \sim ax \)</div>
                    </div>
                    <p style="margin-top:10px;"><strong>è®°å¿†å£è¯€ï¼š</strong>"ä¸‰è§’å¯¹ä¸‰è§’ï¼Œå¯¹æ•°å¯¹å¯¹æ•°ï¼ŒæŒ‡æ•°å‡ä¸€å°±æ˜¯x"</p>
                    <p><strong>ä½¿ç”¨åŸåˆ™ï¼š</strong>"ä¹˜é™¤ç›´æ¥æ¢ï¼ŒåŠ å‡éœ€è°¨æ…"</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>æ— ç©·å°æ¯”è¾ƒç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('comparison')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. æ¯”è¾ƒ xâ†’0 æ—¶ï¼Œä¸‹åˆ—æ— ç©·å°çš„é˜¶æ•°ï¼š</div>
                            <p>A. \( \alpha = x^2 \)ï¼Œ\( \beta = x^3 \)</p>
                            <p>B. \( \alpha = \sin 2x \)ï¼Œ\( \beta = x \)</p>
                            <p>C. \( \alpha = 1 - \cos x \)ï¼Œ\( \beta = x^2 \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('comparison1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-comparison1" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{x \to 0} \frac{x^2}{x^3} = \infty \)ï¼Œæ‰€ä»¥ \( \alpha \) æ˜¯ \( \beta \) çš„ä½é˜¶æ— ç©·å°ï¼ˆxÂ²æ¯”xÂ³"å¤§"ï¼‰</p>
                                <p>B. \( \lim_{x \to 0} \frac{\sin 2x}{x} = 2 \)ï¼Œæ‰€ä»¥åŒé˜¶éç­‰ä»·æ— ç©·å°ï¼ˆåƒè¡¨å…„å¼Ÿï¼Œé•¿å¾—åƒä½†ä¸æ˜¯ä¸€ä¸ªäººï¼‰</p>
                                <p>C. \( \lim_{x \to 0} \frac{1-\cos x}{x^2} = \frac{1}{2} \)ï¼Œæ‰€ä»¥åŒé˜¶éç­‰ä»·æ— ç©·å°</p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. ç”¨ç­‰ä»·æ— ç©·å°æ›¿æ¢æ±‚æé™ï¼š</div>
                            <p>A. \( \lim_{x \to 0} \frac{\tan 2x}{\sin 3x} \)</p>
                            <p>B. \( \lim_{x \to 0} \frac{e^{2x}-1}{\ln(1+3x)} \)</p>
                            <p>C. \( \lim_{x \to 0} \frac{1-\cos 2x}{x \sin x} \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('comparison2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-comparison2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. \( \lim_{x \to 0} \frac{\tan 2x}{\sin 3x} = \lim_{x \to 0} \frac{2x}{3x} = \frac{2}{3} \) ï¼ˆä¹˜é™¤ç›´æ¥æ¢ï¼‰</p>
                                <p>B. \( \lim_{x \to 0} \frac{e^{2x}-1}{\ln(1+3x)} = \lim_{x \to 0} \frac{2x}{3x} = \frac{2}{3} \) ï¼ˆä¹˜é™¤ç›´æ¥æ¢ï¼‰</p>
                                <p>C. \( \lim_{x \to 0} \frac{1-\cos 2x}{x \sin x} = \lim_{x \to 0} \frac{\frac{1}{2}(2x)^2}{x \cdot x} = 2 \) ï¼ˆ1-cosx~xÂ²/2ï¼‰</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- å‡½æ•°çš„è¿ç»­æ€§å’Œé—´æ–­ç‚¹ -->
            <section id="continuity" class="graph-section">
                <h2><i class="fas fa-link"></i> å…«ã€å‡½æ•°çš„è¿ç»­æ€§ï¼šå…³ç³»æ˜¯å¦"ç¨³å®š"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>è¿ç»­æ€§ï¼š</strong>\( \lim_{x \to x_0} f(x) = f(x_0) \)ï¼ˆä¸‰è¦ç´ ï¼šf(xâ‚€)å­˜åœ¨ã€æé™å­˜åœ¨ã€ç›¸ç­‰ï¼‰</p>
                    <p><strong>é—´æ–­ç‚¹ç±»å‹ï¼š</strong>ç¬¬ä¸€ç±»ï¼ˆå¯å»ã€è·³è·ƒï¼‰ã€ç¬¬äºŒç±»ï¼ˆæ— ç©·ã€æŒ¯è¡ï¼‰</p>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šè¿ç»­å‡½æ•°vsé—´æ–­å‡½æ•° -->
                <div class="dynamic-graph">
                    <div class="graph-title">è¿ç»­å‡½æ•° vs é—´æ–­å‡½æ•°</div>
                    <canvas id="continuityCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="contXValue">0.0</span></span>
                            <span>è¿ç»­å‡½æ•°å€¼: <span id="contValue">0.0000</span></span>
                            <span>é—´æ–­å‡½æ•°å€¼: <span id="discValue">NaN</span></span>
                        </div>
                        <input type="range" min="-100" max="100" value="0" class="slider" id="contSlider" oninput="updateContinuityGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="showContinuousExample()">è¿ç»­å‡½æ•°</button>
                        <button class="control-btn" onclick="showRemovableDiscontinuity()">å¯å»é—´æ–­ç‚¹</button>
                        <button class="control-btn" onclick="showJumpDiscontinuity()">è·³è·ƒé—´æ–­ç‚¹</button>
                        <button class="control-btn" onclick="showInfiniteDiscontinuity()">æ— ç©·é—´æ–­ç‚¹</button>
                        <button class="control-btn" onclick="showOscillatingDiscontinuity()">æŒ¯è¡é—´æ–­ç‚¹</button>
                    </div>
                    <div class="graph-description" id="continuityDescription">
                        è¿ç»­å‡½æ•°å¯ä»¥ä¸€ç¬”ç”»å‡ºï¼Œé—´æ–­å‡½æ•°åœ¨æŸç‚¹æ–­å¼€ã€‚ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒç±»å‹çš„é—´æ–­ç‚¹
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šä¿®å¤é—´æ–­ç‚¹ -->
                <div class="dynamic-graph">
                    <div class="graph-title">ä¿®å¤é—´æ–­ç‚¹ï¼šå¯å»é—´æ–­ç‚¹å¯ä»¥é€šè¿‡é‡æ–°å®šä¹‰å‡½æ•°å€¼ä¿®å¤</div>
                    <canvas id="repairCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>æ–°å®šä¹‰çš„ f(0): <span id="newF0Value">1.0</span></span>
                            <span>æé™å€¼: 1.0</span>
                            <span>æ˜¯å¦è¿ç»­: <span id="isContinuous">å¦</span></span>
                        </div>
                        <input type="range" min="0" max="200" value="100" class="slider" id="repairSlider" oninput="updateRepairGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="repairDiscontinuity()">ä¿®å¤é—´æ–­ç‚¹</button>
                        <button class="control-btn" onclick="breakContinuity()">åˆ¶é€ é—´æ–­ç‚¹</button>
                        <button class="control-btn" onclick="showLimitPoint()">æ˜¾ç¤ºæé™ç‚¹</button>
                    </div>
                    <div class="graph-description" id="repairDescription">
                        è°ƒæ•´æ»‘å—æ”¹å˜f(0)çš„å€¼ã€‚å½“f(0)=1æ—¶ï¼Œå‡½æ•°åœ¨x=0å¤„è¿ç»­
                    </div>
                </div>
                
                <div class="funny-explanation">
                    <h4><i class="fas fa-heart-broken"></i> é—´æ–­ç‚¹åˆ†ç±»ï¼šå…³ç³»çš„å››ç§"ç ´è£‚"æ–¹å¼</h4>
                    <div class="discontinuity-examples">
                        <div class="discontinuity-example">
                            <div class="discontinuity-title" style="color: var(--funny-green); border-color: var(--funny-green);">
                                å¯å»é—´æ–­ç‚¹
                            </div>
                            <p><strong>ä¾‹å­ï¼š</strong>\( f(x) = \frac{\sin x}{x} \) åœ¨ x=0</p>
                            <p><strong>ç‰¹ç‚¹ï¼š</strong>æé™å­˜åœ¨ä½†å‡½æ•°æ— å®šä¹‰</p>
                            <p><strong>æ¯”å–»ï¼š</strong>å°çŸ›ç›¾ï¼Œè¯´å¼€å°±å¥½ ğŸ’” â†’ â¤ï¸</p>
                            <p><strong>ä¿®å¤ï¼š</strong>è¡¥å……å®šä¹‰ f(0)=1 å°±è¿ç»­äº†</p>
                        </div>
                        
                        <div class="discontinuity-example">
                            <div class="discontinuity-title" style="color: #ff9800; border-color: #ff9800;">
                                è·³è·ƒé—´æ–­ç‚¹
                            </div>
                            <p><strong>ä¾‹å­ï¼š</strong>\( f(x) = \begin{cases} 1, & x>0 \\ -1, & x<0 \end{cases} \)</p>
                            <p><strong>ç‰¹ç‚¹ï¼š</strong>å·¦å³æé™å­˜åœ¨ä½†ä¸ç›¸ç­‰</p>
                            <p><strong>æ¯”å–»ï¼š</strong>ä»·å€¼è§‚ä¸åŒï¼Œæœ‰ä»£æ²Ÿ</p>
                            <p><strong>ä¿®å¤ï¼š</strong>æ— æ³•ç®€å•ä¿®å¤ï¼Œéœ€è¦é‡æ–°å®šä¹‰å…³ç³»</p>
                        </div>
                        
                        <div class="discontinuity-example">
                            <div class="discontinuity-title" style="color: #f44336; border-color: #f44336;">
                                æ— ç©·é—´æ–­ç‚¹
                            </div>
                            <p><strong>ä¾‹å­ï¼š</strong>\( f(x) = \frac{1}{x} \) åœ¨ x=0</p>
                            <p><strong>ç‰¹ç‚¹ï¼š</strong>æé™ä¸ºæ— ç©·å¤§</p>
                            <p><strong>æ¯”å–»ï¼š</strong>å½»åº•é—¹ç¿»ï¼Œè€æ­»ä¸ç›¸å¾€æ¥</p>
                            <p><strong>ä¿®å¤ï¼š</strong>æ— æ³•ä¿®å¤ï¼Œå½»åº•ç ´è£‚</p>
                        </div>
                        
                        <div class="discontinuity-example">
                            <div class="discontinuity-title" style="color: #9c27b0; border-color: #9c27b0;">
                                æŒ¯è¡é—´æ–­ç‚¹
                            </div>
                            <p><strong>ä¾‹å­ï¼š</strong>\( f(x) = \sin\frac{1}{x} \) åœ¨ x=0</p>
                            <p><strong>ç‰¹ç‚¹ï¼š</strong>æé™ä¸å­˜åœ¨ï¼Œæ— é™æŒ¯è¡</p>
                            <p><strong>æ¯”å–»ï¼š</strong>æƒ…ç»ªä¸ç¨³å®šï¼Œå¿½å†·å¿½çƒ­</p>
                            <p><strong>ä¿®å¤ï¼š</strong>æœ€å¤æ‚çš„ä¸€ç§ï¼Œéœ€è¦æ·±åº¦æ²»ç–—</p>
                        </div>
                    </div>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>è¿ç»­æ€§ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('continuity')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. è®¨è®ºå‡½æ•° \( f(x) = \frac{x^2-1}{x-1} \) åœ¨ x=1 å¤„çš„è¿ç»­æ€§</div>
                            <button class="answer-btn" onclick="toggleAnswer('continuity1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-continuity1" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>å‡½æ•°åœ¨ x=1 å¤„æ— å®šä¹‰ï¼Œæ‰€ä»¥ä¸è¿ç»­</p>
                                <p>ä½† \( \lim_{x \to 1} f(x) = \lim_{x \to 1} (x+1) = 2 \)</p>
                                <p>æ‰€ä»¥ x=1 æ˜¯å¯å»é—´æ–­ç‚¹ï¼Œè¡¥å……å®šä¹‰ f(1)=2 åè¿ç»­</p>
                                <p><em>å°±åƒè¡£æœç ´äº†ä¸ªå°æ´ï¼Œç¼ä¸Šå°±å¥½ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. æ‰¾å‡ºä¸‹åˆ—å‡½æ•°çš„é—´æ–­ç‚¹å¹¶åˆ†ç±»ï¼š</div>
                            <p>A. \( f(x) = \frac{1}{x-2} \)</p>
                            <p>B. \( f(x) = \frac{\sin x}{x} \)</p>
                            <p>C. \( f(x) = \begin{cases} x, & x<1 \\ 2, & x=1 \\ x^2, & x>1 \end{cases} \)</p>
                            <button class="answer-btn" onclick="toggleAnswer('continuity2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-continuity2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>A. x=2 æ˜¯æ— ç©·é—´æ–­ç‚¹ï¼ˆç¬¬äºŒç±»ï¼‰â€”â€” å½»åº•åˆ†æ‰‹å‹</p>
                                <p>B. x=0 æ˜¯å¯å»é—´æ–­ç‚¹ï¼ˆç¬¬ä¸€ç±»ï¼‰â€”â€” å°çŸ›ç›¾å‹ï¼Œè¡¥å……å®šä¹‰ f(0)=1 åè¿ç»­</p>
                                <p>C. x=1 æ˜¯è·³è·ƒé—´æ–­ç‚¹ï¼ˆç¬¬ä¸€ç±»ï¼‰â€”â€” æœ‰ä»£æ²Ÿå‹ï¼Œå·¦æé™=1ï¼Œå³æé™=1ï¼Œä½†å‡½æ•°å€¼=2</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- è¿ç»­å‡½æ•°çš„è¿ç®—ä¸åˆç­‰å‡½æ•°çš„è¿ç»­æ€§ -->
            <section id="continuous-operations" class="graph-section">
                <h2><i class="fas fa-cogs"></i> ä¹ã€è¿ç»­å‡½æ•°çš„è¿ç®—ï¼šè¿ç»­æ€§çš„"é—ä¼ è§„å¾‹"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>è¿ç»­å‡½æ•°çš„å››åˆ™è¿ç®—ï¼š</strong>è¿ç»­å‡½æ•°çš„å’Œã€å·®ã€ç§¯ã€å•†ï¼ˆåˆ†æ¯ä¸ä¸ºé›¶ï¼‰ä»æ˜¯è¿ç»­å‡½æ•°ã€‚</p>
                    <p><strong>å¤åˆå‡½æ•°çš„è¿ç»­æ€§ï¼š</strong>è¿ç»­å‡½æ•°çš„å¤åˆå‡½æ•°ä»æ˜¯è¿ç»­å‡½æ•°ã€‚</p>
                    <p><strong>åˆç­‰å‡½æ•°çš„è¿ç»­æ€§ï¼š</strong>åˆç­‰å‡½æ•°åœ¨å…¶å®šä¹‰åŒºé—´å†…è¿ç»­ã€‚</p>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šè¿ç»­å‡½æ•°çš„è¿ç®— -->
                <div class="dynamic-graph">
                    <div class="graph-title">è¿ç»­å‡½æ•°çš„è¿ç®—ï¼šä¸¤ä¸ªè¿ç»­å‡½æ•°çš„å’Œã€ç§¯ã€å•†</div>
                    <canvas id="continuousOpsCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="opsXValue">0.5</span></span>
                            <span>f(x): <span id="fOpsValue">0.4794</span>, g(x): <span id="gOpsValue">0.2500</span></span>
                        </div>
                        <input type="range" min="-100" max="100" value="50" class="slider" id="opsSlider" oninput="updateContinuousOpsGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="showSumOfContinuous()">f(x)+g(x)</button>
                        <button class="control-btn" onclick="showProductOfContinuous()">f(x)Ã—g(x)</button>
                        <button class="control-btn" onclick="showQuotientOfContinuous()">f(x)/g(x)</button>
                        <button class="control-btn" onclick="showCompositeContinuous()">f(g(x))</button>
                        <button class="control-btn" onclick="resetContinuousOps()">æ˜¾ç¤ºåŸå‡½æ•°</button>
                    </div>
                    <div class="graph-description" id="continuousOpsDescription">
                        è¿ç»­å‡½æ•°ç»è¿‡å››åˆ™è¿ç®—å’Œå¤åˆè¿ç®—åä»ç„¶æ˜¯è¿ç»­å‡½æ•°
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šåˆç­‰å‡½æ•°çš„è¿ç»­æ€§ -->
                <div class="dynamic-graph">
                    <div class="graph-title">åˆç­‰å‡½æ•°çš„è¿ç»­æ€§ï¼šåŸºæœ¬åˆç­‰å‡½æ•°åœ¨å®šä¹‰åŒºé—´å†…è¿ç»­</div>
                    <canvas id="elementaryCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>xå€¼: <span id="elemXValue">1.0</span></span>
                            <span>å‡½æ•°å€¼: <span id="elemValue">1.0000</span></span>
                            <span>å‡½æ•°ç±»å‹: <span id="elemType">å¹‚å‡½æ•°</span></span>
                        </div>
                        <input type="range" min="-100" max="100" value="50" class="slider" id="elemSlider" oninput="updateElementaryGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeElementary(1)">å¹‚å‡½æ•° xÂ²</button>
                        <button class="control-btn" onclick="changeElementary(2)">æŒ‡æ•°å‡½æ•° eË£</button>
                        <button class="control-btn" onclick="changeElementary(3)">å¯¹æ•°å‡½æ•° ln(x)</button>
                        <button class="control-btn" onclick="changeElementary(4)">ä¸‰è§’å‡½æ•° sin(x)</button>
                        <button class="control-btn" onclick="changeElementary(5)">åä¸‰è§’å‡½æ•° arcsin(x)</button>
                    </div>
                    <div class="graph-description" id="elementaryDescription">
                        åŸºæœ¬åˆç­‰å‡½æ•°åœ¨å…¶å®šä¹‰åŒºé—´å†…éƒ½æ˜¯è¿ç»­çš„
                    </div>
                </div>
                
                <div class="analogy-box">
                    <h4><i class="fas fa-dna"></i> è¿ç»­æ€§çš„"é—ä¼ "æ¯”å–»</h4>
                    <p>è¿ç»­æ€§å°±åƒä¸€ç§"ä¼˜è‰¯åŸºå› "ï¼š</p>
                    <p>1. å¦‚æœä¸¤ä¸ªå‡½æ•°éƒ½æœ‰è¿ç»­æ€§"åŸºå› "ï¼Œå®ƒä»¬çš„"å­©å­"ï¼ˆå’Œã€å·®ã€ç§¯ã€å•†ï¼‰ä¹Ÿç»§æ‰¿è¿™ä¸ªåŸºå› </p>
                    <p>2. è¿ç»­å‡½æ•°çš„"å­™å­"ï¼ˆå¤åˆå‡½æ•°ï¼‰ä¹Ÿæœ‰è¿™ä¸ªåŸºå› </p>
                    <p>3. åŸºæœ¬åˆç­‰å‡½æ•°å¤©ç”Ÿæœ‰è¿™ä¸ªåŸºå› ï¼Œæ‰€ä»¥å®ƒä»¬çš„åä»£ï¼ˆåˆç­‰å‡½æ•°ï¼‰åœ¨å®šä¹‰åŒºé—´å†…éƒ½æœ‰è¿™ä¸ªåŸºå› </p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>è¿ç»­å‡½æ•°è¿ç®—ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('continuous-ops')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. è®¾ \( f(x) = \begin{cases} \frac{\sin x}{x}, & x \neq 0 \\ a, & x = 0 \end{cases} \)ï¼Œé—® a å–ä½•å€¼æ—¶ f(x) åœ¨ x=0 è¿ç»­ï¼Ÿ</div>
                            <button class="answer-btn" onclick="toggleAnswer('continuous-ops1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-continuous-ops1" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>\( \lim_{x \to 0} f(x) = \lim_{x \to 0} \frac{\sin x}{x} = 1 \)</p>
                                <p>è¦ä½¿ f(x) åœ¨ x=0 è¿ç»­ï¼Œéœ€è¦ \( f(0) = \lim_{x \to 0} f(x) \)</p>
                                <p>æ‰€ä»¥ \( a = 1 \)</p>
                                <p><em>ç»™é—´æ–­ç‚¹æ‰¾ä¸ªåˆé€‚çš„"å¯¹è±¡"ï¼ˆå‡½æ•°å€¼ï¼‰ï¼Œå®ƒä»¬å°±èƒ½å¥½å¥½è¿‡æ—¥å­ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. è¯æ˜ï¼šè‹¥ f(x), g(x) åœ¨ xâ‚€ è¿ç»­ï¼Œåˆ™ f(x)Â±g(x) ä¹Ÿåœ¨ xâ‚€ è¿ç»­</div>
                            <button class="answer-btn" onclick="toggleAnswer('continuous-ops2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-continuous-ops2" class="answer">
                                <p><strong>è¯æ˜ï¼š</strong></p>
                                <p>å› ä¸º f(x), g(x) åœ¨ xâ‚€ è¿ç»­ï¼Œæ‰€ä»¥</p>
                                <p>\( \lim_{x \to x_0} f(x) = f(x_0) \)ï¼Œ\( \lim_{x \to x_0} g(x) = g(x_0) \)</p>
                                <p>ç”±æé™è¿ç®—æ³•åˆ™ï¼š</p>
                                <p>\( \lim_{x \to x_0} [f(x) \pm g(x)] = \lim_{x \to x_0} f(x) \pm \lim_{x \to x_0} g(x) = f(x_0) \pm g(x_0) \)</p>
                                <p>æ‰€ä»¥ f(x)Â±g(x) åœ¨ xâ‚€ è¿ç»­</p>
                                <p><em>è¿ç»­æ€§çš„"ä¼˜è‰¯åŸºå› "èƒ½é—ä¼ ç»™åä»£ï¼</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- é—­åŒºé—´ä¸Šè¿ç»­å‡½æ•°çš„æ€§è´¨ -->
            <section id="closed-interval" class="graph-section">
                <h2><i class="fas fa-expand-arrows-alt"></i> åã€é—­åŒºé—´æ€§è´¨ï¼šè¿ç»­å‡½æ•°çš„"ç‰¹æƒ"</h2>
                
                <div class="knowledge-point">
                    <h3><i class="fas fa-lightbulb"></i> çŸ¥è¯†ç‚¹æ¢³ç†</h3>
                    <p><strong>æœ‰ç•Œæ€§å®šç†ï¼š</strong>é—­åŒºé—´ä¸Šè¿ç»­å‡½æ•°åœ¨è¯¥åŒºé—´ä¸Šæœ‰ç•Œã€‚</p>
                    <p><strong>æœ€å€¼å®šç†ï¼š</strong>é—­åŒºé—´ä¸Šè¿ç»­å‡½æ•°èƒ½å–å¾—æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p>
                    <p><strong>é›¶ç‚¹å®šç†ï¼š</strong>è‹¥f(a)Â·f(b)<0ï¼Œåˆ™è‡³å°‘å­˜åœ¨ä¸€ç‚¹Î¾âˆˆ(a,b)ä½¿f(Î¾)=0ã€‚</p>
                    
                    <div class="formula">
                        é›¶ç‚¹å®šç†ï¼šè‹¥ \( f(x) \) åœ¨ \([a,b]\) ä¸Šè¿ç»­ï¼Œä¸” \( f(a) \cdot f(b) < 0 \)ï¼Œåˆ™ âˆƒÎ¾âˆˆ(a,b)ï¼Œä½¿ \( f(Î¾) = 0 \)
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šé›¶ç‚¹å®šç†äº¤äº’ -->
                <div class="dynamic-graph">
                    <div class="graph-title">é›¶ç‚¹å®šç†äº¤äº’æ¼”ç¤ºï¼š\( f(x) = x^3 - x \)</div>
                    <canvas id="zeroTheoremCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>åŒºé—´å·¦ç«¯ç‚¹ a: <span id="intervalA">-1.5</span></span>
                            <span>åŒºé—´å³ç«¯ç‚¹ b: <span id="intervalB">1.5</span></span>
                            <span>f(a): <span id="faValue">-1.875</span>, f(b): <span id="fbValue">1.875</span></span>
                        </div>
                        <div style="display: flex; gap: 10px; margin-top: 5px;">
                            <input type="range" min="-150" max="0" value="-75" class="slider" id="aSlider" oninput="updateZeroTheorem()" style="flex: 1;">
                            <input type="range" min="0" max="150" value="75" class="slider" id="bSlider" oninput="updateZeroTheorem()" style="flex: 1;">
                        </div>
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="findZeroInInterval(-1.5, -0.5)">åœ¨[-1.5, -0.5]æ‰¾é›¶ç‚¹</button>
                        <button class="control-btn" onclick="findZeroInInterval(-0.5, 0.5)">åœ¨[-0.5, 0.5]æ‰¾é›¶ç‚¹</button>
                        <button class="control-btn" onclick="findZeroInInterval(0.5, 1.5)">åœ¨[0.5, 1.5]æ‰¾é›¶ç‚¹</button>
                        <button class="control-btn" onclick="showNoZeroInterval()">æ˜¾ç¤ºæ— é›¶ç‚¹åŒºé—´</button>
                    </div>
                    <div class="graph-description" id="zeroTheoremDescription">
                        è°ƒæ•´åŒºé—´ç«¯ç‚¹ã€‚å½“f(a)å’Œf(b)å¼‚å·æ—¶ï¼ŒåŒºé—´å†…å¿…æœ‰é›¶ç‚¹ï¼ˆç”¨äºŒåˆ†æ³•è¿‘ä¼¼æ‰¾åˆ°ï¼‰
                    </div>
                </div>
                
                <!-- åŠ¨æ€å›¾å½¢ï¼šæœ€å€¼å®šç† -->
                <div class="dynamic-graph">
                    <div class="graph-title">æœ€å€¼å®šç†ï¼šé—­åŒºé—´ä¸Šè¿ç»­å‡½æ•°å¿…æœ‰æœ€å¤§å€¼å’Œæœ€å°å€¼</div>
                    <canvas id="maxMinCanvas"></canvas>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>åŒºé—´: [<span id="minMaxA">0</span>, <span id="minMaxB">3</span>]</span>
                            <span>æœ€å¤§å€¼: <span id="maxValue">1.0</span> åœ¨ x=<span id="maxX">1.57</span></span>
                            <span>æœ€å°å€¼: <span id="minValue">0.0</span> åœ¨ x=<span id="minX">0.0</span></span>
                        </div>
                        <input type="range" min="0" max="100" value="50" class="slider" id="intervalSlider" oninput="updateMaxMinGraph()">
                    </div>
                    <div class="graph-controls">
                        <button class="control-btn" onclick="changeMaxMinFunction(1)">f(x)=sin(x)</button>
                        <button class="control-btn" onclick="changeMaxMinFunction(2)">f(x)=xÂ²-2x+1</button>
                        <button class="control-btn" onclick="changeMaxMinFunction(3)">f(x)=cos(x)+x/2</button>
                        <button class="control-btn" onclick="findExtrema()">æŸ¥æ‰¾æœ€å€¼ç‚¹</button>
                    </div>
                    <div class="graph-description" id="maxMinDescription">
                        é—­åŒºé—´ä¸Šçš„è¿ç»­å‡½æ•°ä¸€å®šèƒ½åœ¨åŒºé—´å†…å–å¾—æœ€å¤§å€¼å’Œæœ€å°å€¼
                    </div>
                </div>
                
                <div class="analogy-box">
                    <h4><i class="fas fa-mountain"></i> é›¶ç‚¹å®šç†çš„ç›´è§‚ç†è§£</h4>
                    <p>æƒ³è±¡ä½ ä»å±±çš„ä¸€ä¾§(aç‚¹)å‡ºå‘ï¼Œå¦ä¸€ä¾§(bç‚¹)ç»“æŸï¼š</p>
                    <p>å¦‚æœä½ ä»æµ·å¹³é¢ä»¥ä¸‹(f(a)<0)å‡ºå‘ï¼Œåˆ°æµ·å¹³é¢ä»¥ä¸Š(f(b)>0)ç»“æŸ</p>
                    <p>é‚£ä¹ˆä½ <strong>ä¸€å®š</strong>ä¼šç»è¿‡æµ·å¹³é¢(f(Î¾)=0)ï¼</p>
                    <p>åŒç†ï¼Œå¦‚æœèµ·ç‚¹å’Œç»ˆç‚¹éƒ½åœ¨æµ·å¹³é¢ä»¥ä¸Šæˆ–ä»¥ä¸‹ï¼Œå°±ä¸ä¸€å®šç»è¿‡æµ·å¹³é¢</p>
                </div>
                
                <div class="exercise">
                    <div class="exercise-title">
                        <h4>é—­åŒºé—´è¿ç»­å‡½æ•°æ€§è´¨ç»ƒä¹ é¢˜</h4>
                        <button class="answer-btn" onclick="toggleAllAnswers('closed')">æ˜¾ç¤ºæ‰€æœ‰ç­”æ¡ˆ</button>
                    </div>
                    <div class="exercise-list">
                        <div class="exercise-item">
                            <div class="exercise-question">1. è¯æ˜æ–¹ç¨‹ \( x^3 - 4x + 1 = 0 \) åœ¨åŒºé—´ (1,2) å†…è‡³å°‘æœ‰ä¸€ä¸ªå®æ ¹</div>
                            <button class="answer-btn" onclick="toggleAnswer('closed1')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-closed1" class="answer">
                                <p><strong>è¯æ˜ï¼š</strong></p>
                                <p>ä»¤ \( f(x) = x^3 - 4x + 1 \)ï¼Œåˆ™ f(x) åœ¨ [1,2] ä¸Šè¿ç»­</p>
                                <p>è®¡ç®—ï¼š\( f(1) = 1 - 4 + 1 = -2 < 0 \)ï¼Œ\( f(2) = 8 - 8 + 1 = 1 > 0 \)</p>
                                <p>å› ä¸º \( f(1) \cdot f(2) < 0 \)ï¼Œç”±é›¶ç‚¹å®šç†ï¼Œè‡³å°‘å­˜åœ¨ä¸€ç‚¹ Î¾âˆˆ(1,2)ï¼Œä½¿ f(Î¾)=0</p>
                                <p>å³æ–¹ç¨‹åœ¨ (1,2) å†…è‡³å°‘æœ‰ä¸€ä¸ªå®æ ¹</p>
                                <p><em>å°±åƒä»åœ°ä¸‹(-2)åˆ°åœ°ä¸Š(1)ï¼Œä¸­é—´ä¸€å®šç»è¿‡åœ°é¢(0)ï¼</em></p>
                            </div>
                        </div>
                        
                        <div class="exercise-item">
                            <div class="exercise-question">2. åˆ¤æ–­å‡½æ•° \( f(x) = \frac{1}{x} \) åœ¨ [1,2] ä¸Šæ˜¯å¦æœ‰æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Ÿåœ¨ (0,1) ä¸Šå‘¢ï¼Ÿ</div>
                            <button class="answer-btn" onclick="toggleAnswer('closed2')" style="margin-top: 10px;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                            <div id="answer-closed2" class="answer">
                                <p><strong>è§£ç­”ï¼š</strong></p>
                                <p>åœ¨ [1,2] ä¸Šï¼šf(x) è¿ç»­ï¼Œç”±æœ€å€¼å®šç†ï¼Œæœ‰æœ€å¤§å€¼ f(1)=1ï¼Œæœ€å°å€¼ f(2)=1/2</p>
                                <p>åœ¨ (0,1) ä¸Šï¼šè™½ç„¶ f(x) è¿ç»­ï¼Œä½†åŒºé—´ä¸æ˜¯é—­åŒºé—´ï¼Œä¸èƒ½ç›´æ¥ç”¨æœ€å€¼å®šç†ã€‚å®é™…ä¸Šï¼Œf(x) åœ¨ (0,1) ä¸Šæ— ç•Œï¼Œæ²¡æœ‰æœ€å¤§å€¼</p>
                                <p><em>é—­åŒºé—´å°±åƒæœ‰å›´å¢™çš„èŠ±å›­ï¼Œè¿ç»­å‡½æ•°åœ¨é‡Œé¢è·‘ä¸å‡ºå»ï¼›å¼€åŒºé—´å°±åƒæ²¡å›´å¢™ï¼Œå‡½æ•°å¯èƒ½è·‘åˆ°æ— ç©·è¿œï¼</em></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <div style="text-align: center; margin: 40px 0; padding: 20px; background: linear-gradient(135deg, var(--primary), var(--secondary)); color: white; border-radius: 15px;">
                <h3>ğŸ‰ æ­å–œå®Œæˆç¬¬ä¸€ç« å­¦ä¹ ï¼</h3>
                <p>ä½ å·²ç»æŒæ¡äº†æé™ä¸è¿ç»­çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä¸ºå­¦ä¹ å¾®ç§¯åˆ†æ‰“ä¸‹äº†åšå®åŸºç¡€</p>
                <p style="margin-top: 10px; font-size: 0.9rem;">ç»§ç»­åŠ æ²¹ï¼Œç¬¬äºŒç« å¯¼æ•°ä¸å¾®åˆ†åœ¨ç­‰ç€ä½ ï¼</p>
            </div>
        </main>
        
        <aside class="sidebar">
            <h2><i class="fas fa-clipboard-list"></i> çŸ¥è¯†ç‚¹é€ŸæŸ¥</h2>
            
            <div class="progress-container">
                <h3>å­¦ä¹ è¿›åº¦</h3>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <p class="progress-text" id="progress-text">0/10 å·²å­¦ä¹ </p>
                <button class="answer-btn" onclick="updateProgress()" style="width:100%; margin-top:10px; padding:10px;">æ›´æ–°è¿›åº¦</button>
            </div>
            
            <h3><i class="fas fa-brain"></i> æ ¸å¿ƒæ¦‚å¿µæç¬‘ç‰ˆ</h3>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 15px 0;">
                <p><strong>å‡½æ•°ï¼š</strong>æ•°å­¦ç•Œçš„"ä¸€å¤«ä¸€å¦»åˆ¶"</p>
                <p><strong>æé™ï¼š</strong>æ— é™æ¥è¿‘çš„"èˆ”ç‹—"è¡Œä¸º</p>
                <p><strong>è¿ç»­ï¼š</strong>æ²¡æœ‰"æ–­ç‰‡"çš„å…³ç³»</p>
                <p><strong>é‡è¦æé™1ï¼š</strong>sinxå’Œxçš„"å…„å¼Ÿæƒ…"</p>
                <p><strong>é‡è¦æé™2ï¼š</strong>é’±ç”Ÿé’±çš„ç»ˆææ•ˆç‡e</p>
            </div>
            
            <h3><i class="fas fa-infinity"></i> å¸¸ç”¨ç­‰ä»·æ— ç©·å°æ€»ç»“</h3>
            <div class="tip" style="margin: 15px 0; padding: 15px;">
                <p>å½“ xâ†’0 æ—¶ï¼š</p>
                <div style="font-size: 0.9rem;">
                    <p>â€¢ \( \sin x \sim x \)</p>
                    <p>â€¢ \( \tan x \sim x \)</p>
                    <p>â€¢ \( \arcsin x \sim x \)</p>
                    <p>â€¢ \( 1 - \cos x \sim \frac{1}{2}x^2 \)</p>
                    <p>â€¢ \( e^x - 1 \sim x \)</p>
                    <p>â€¢ \( \ln(1+x) \sim x \)</p>
                </div>
                <p style="margin-top:10px; font-weight:bold;">å£è¯€ï¼šä¹˜é™¤ç›´æ¥æ¢ï¼ŒåŠ å‡éœ€è°¨æ…</p>
            </div>
            
            <h3><i class="fas fa-exclamation-triangle"></i> å¸¸è§æ˜“é”™ç‚¹</h3>
            <div class="warning" style="padding: 12px; margin: 15px 0;">
                <p>1. åˆç­‰å‡½æ•°åœ¨<strong>å®šä¹‰åŒºé—´å†…</strong>è¿ç»­</p>
                <p>2. åˆ¤æ–­æé™å…ˆçœ‹å·¦å³æé™</p>
                <p>3. æ— ç©·å°æ˜¯æé™è¿‡ç¨‹ï¼Œä¸æ˜¯å¾ˆå°å¾ˆå°çš„æ•°</p>
                <p>4. æœªå®šå¼ä¸èƒ½ç›´æ¥ç”¨æ³•åˆ™</p>
                <p>5. ç­‰ä»·æ— ç©·å°æ›¿æ¢ï¼šä¹˜é™¤å¯æ¢ï¼ŒåŠ å‡è°¨æ…</p>
            </div>
            
            <h3><i class="fas fa-heart-broken"></i> é—´æ–­ç‚¹ç±»å‹æ€»ç»“</h3>
            <div style="background: #fff5f5; padding: 15px; border-radius: 10px; margin: 15px 0;">
                <p><strong>ç¬¬ä¸€ç±»ï¼š</strong>å·¦å³æé™éƒ½å­˜åœ¨</p>
                <p style="margin-left: 15px;">â€¢ å¯å»ï¼šå·¦å³æé™ç›¸ç­‰</p>
                <p style="margin-left: 15px;">â€¢ è·³è·ƒï¼šå·¦å³æé™ä¸ç›¸ç­‰</p>
                <p><strong>ç¬¬äºŒç±»ï¼š</strong>è‡³å°‘ä¸€ä¾§æé™ä¸å­˜åœ¨</p>
                <p style="margin-left: 15px;">â€¢ æ— ç©·ï¼šæé™ä¸ºâˆ</p>
                <p style="margin-left: 15px;">â€¢ æŒ¯è¡ï¼šæé™æŒ¯è¡ä¸å­˜åœ¨</p>
            </div>
            
            <h3><i class="fas fa-gamepad"></i> äº’åŠ¨æ¸¸æˆ</h3>
            <div style="text-align: center; margin-top: 15px;">
                <button class="answer-btn" onclick="startLimitGame()" style="width: 100%; padding: 12px; margin-bottom:10px;">
                    <i class="fas fa-play-circle"></i> æé™æŒ‘æˆ˜æ¸¸æˆ
                </button>
                <button class="answer-btn" onclick="showRandomExercise()" style="width: 100%; padding: 12px;">
                    <i class="fas fa-random"></i> éšæœºç»ƒä¹ 
                </button>
                <div id="randomExercise" style="margin-top: 15px; display: none;"></div>
                <div id="gameArea" style="margin-top: 15px; display: none;"></div>
            </div>
        </aside>
    </div>

    <script>
        // æ•°å­¦å…¬å¼æ¸²æŸ“
        if (window.MathJax) {
            MathJax.typeset();
        }
        
        // å…¨å±€å˜é‡
        let progress = 0;
        const totalSections = 10;
        
        // å›¾å½¢ç›¸å…³å˜é‡
        let canvases = {};
        let contexts = {};
        let animationFrames = {};
        
        // åˆå§‹åŒ–æ‰€æœ‰canvas
        function initCanvases() {
            const canvasIds = [
                'domainCanvas', 'sequenceCanvas', 'epsilonDeltaCanvas', 'leftRightCanvas',
                'squeezeCanvas', 'monotoneCanvas', 'operationsCanvas', 'indeterminateCanvas',
                'firstLimitCanvas', 'secondLimitCanvas', 'infinitesimalCanvas', 'equivalentCanvas',
                'continuityCanvas', 'repairCanvas', 'continuousOpsCanvas', 'elementaryCanvas',
                'zeroTheoremCanvas', 'maxMinCanvas'
            ];
            
            canvasIds.forEach(id => {
                const canvas = document.getElementById(id);
                if (canvas) {
                    canvases[id] = canvas;
                    contexts[id] = canvas.getContext('2d');
                    // è®¾ç½®canvaså°ºå¯¸
                    const container = canvas.parentElement;
                    canvas.width = container.clientWidth;
                    canvas.height = container.clientHeight;
                }
            });
        }
        
        // æ˜¾ç¤º/éšè—å•ä¸ªç­”æ¡ˆ
        function toggleAnswer(id) {
            const answer = document.getElementById(`answer-${id}`);
            answer.classList.toggle('show');
        }
        
        // æ˜¾ç¤º/éšè—æ¦‚å¿µè§£é‡Š
        function showExplanation(id) {
            const explanation = document.getElementById(id);
            explanation.style.display = explanation.style.display === 'block' ? 'none' : 'block';
        }
        
        // æ˜¾ç¤º/éšè—ä¸€ä¸ªç« èŠ‚çš„æ‰€æœ‰ç­”æ¡ˆ
        function toggleAllAnswers(section) {
            const answers = document.querySelectorAll(`[id^="answer-${section}"]`);
            const allHidden = Array.from(answers).every(a => !a.classList.contains('show'));
            
            answers.forEach(answer => {
                if (allHidden) {
                    answer.classList.add('show');
                } else {
                    answer.classList.remove('show');
                }
            });
        }
        
        // å­¦ä¹ è¿›åº¦æ›´æ–°
        function updateProgress() {
            progress = Math.min(progress + 1, totalSections);
            const percentage = (progress / totalSections) * 100;
            
            document.getElementById('progress').style.width = `${percentage}%`;
            document.getElementById('progress-text').textContent = `${progress}/${totalSections} å·²å­¦ä¹ `;
            
            if (progress === totalSections) {
                document.getElementById('progress-text').innerHTML = 'ğŸ‰ å·²å®Œæˆæœ¬ç« å­¦ä¹ ï¼';
            }
        }
        
        // æ»šåŠ¨åˆ°ç« èŠ‚
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        // ====================== å›¾å½¢ç»˜åˆ¶å‡½æ•° ======================
        
        // 1. å‡½æ•°å®šä¹‰åŸŸå¯è§†åŒ–
        let domainFunctionIndex = 1;
        const domainFunctions = [
            { func: (x) => Math.sqrt(x+2)/(x-1), domain: (x) => x >= -2 && x !== 1, desc: "f(x)=âˆš(x+2)/(x-1)" },
            { func: (x) => 1/(x-2), domain: (x) => x !== 2, desc: "f(x)=1/(x-2)" },
            { func: (x) => Math.log(x), domain: (x) => x > 0, desc: "f(x)=ln(x)" }
        ];
        
        function drawDomainGraph(xVal = 0) {
            const canvas = canvases['domainCanvas'];
            const ctx = contexts['domainCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 40;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // åˆ»åº¦
            for (let i = -2; i <= 2; i++) {
                if (i === 0) continue;
                ctx.beginPath();
                ctx.moveTo(i * graphWidth/8, -5);
                ctx.lineTo(i * graphWidth/8, 5);
                ctx.stroke();
                ctx.fillText(i.toString(), i * graphWidth/8 - 5, 20);
            }
            
            // å®šä¹‰åŸŸèƒŒæ™¯
            const func = domainFunctions[domainFunctionIndex-1];
            ctx.fillStyle = 'rgba(102, 187, 255, 0.1)';
            for (let x = -2; x <= 2; x += 0.01) {
                if (func.domain(x)) {
                    const pixelX = x * graphWidth/4;
                    ctx.fillRect(pixelX - 0.5, -graphHeight/2, 1, graphHeight);
                }
            }
            
            // å‡½æ•°å›¾åƒ
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            let firstPoint = true;
            for (let x = -2; x <= 2; x += 0.05) {
                if (!func.domain(x)) {
                    firstPoint = true;
                    continue;
                }
                
                try {
                    const y = func.func(x);
                    if (!isFinite(y) || Math.abs(y) > 5) {
                        firstPoint = true;
                        continue;
                    }
                    
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (firstPoint) {
                        ctx.moveTo(pixelX, pixelY);
                        firstPoint = false;
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                } catch(e) {
                    firstPoint = true;
                }
            }
            ctx.stroke();
            
            // å½“å‰xç‚¹
            const currentX = xVal/10; // æ»‘å—èŒƒå›´-30åˆ°30ï¼Œæ˜ å°„åˆ°-3åˆ°3
            const pixelX = currentX * graphWidth/4;
            
            if (func.domain(currentX)) {
                try {
                    const y = func.func(currentX);
                    const pixelY = -y * graphHeight/4;
                    
                    ctx.fillStyle = '#0f9d58';
                    ctx.beginPath();
                    ctx.arc(pixelX, pixelY, 6, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // è¿çº¿åˆ°xè½´
                    ctx.strokeStyle = '#0f9d58';
                    ctx.lineWidth = 1;
                    ctx.setLineDash([5, 5]);
                    ctx.beginPath();
                    ctx.moveTo(pixelX, pixelY);
                    ctx.lineTo(pixelX, 0);
                    ctx.stroke();
                    ctx.setLineDash([]);
                    
                    document.getElementById('inDomain').textContent = 'æ˜¯';
                    document.getElementById('inDomain').style.color = '#0f9d58';
                } catch(e) {
                    ctx.fillStyle = '#ff4081';
                    ctx.beginPath();
                    ctx.arc(pixelX, 0, 6, 0, Math.PI * 2);
                    ctx.fill();
                    document.getElementById('inDomain').textContent = 'å¦';
                    document.getElementById('inDomain').style.color = '#ff4081';
                }
            } else {
                ctx.fillStyle = '#ff4081';
                ctx.beginPath();
                ctx.arc(pixelX, 0, 6, 0, Math.PI * 2);
                ctx.fill();
                document.getElementById('inDomain').textContent = 'å¦';
                document.getElementById('inDomain').style.color = '#ff4081';
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('xValueDomain').textContent = currentX.toFixed(1);
            document.getElementById('domainDescription').innerHTML = 
                `å½“å‰å‡½æ•°: ${func.desc}<br>ç»¿è‰²ç‚¹è¡¨ç¤ºåœ¨å®šä¹‰åŸŸå†…ï¼Œçº¢è‰²ç‚¹è¡¨ç¤ºä¸åœ¨å®šä¹‰åŸŸå†…`;
        }
        
        function updateDomainGraph() {
            const slider = document.getElementById('domainSlider');
            const xVal = parseInt(slider.value);
            drawDomainGraph(xVal);
        }
        
        function changeDomainFunction(index) {
            domainFunctionIndex = index;
            drawDomainGraph(parseInt(document.getElementById('domainSlider').value));
        }
        
        // 2. æ•°åˆ—æé™å¯è§†åŒ–
        let sequenceType = 1;
        let sequenceAnimationId = null;
        const sequences = [
            { func: (n) => 1/n, limit: 0, desc: "xâ‚™ = 1/n â†’ 0" },
            { func: (n) => (n+1)/(2*n), limit: 0.5, desc: "xâ‚™ = (n+1)/(2n) â†’ 1/2" },
            { func: (n) => Math.pow(-1, n)/n, limit: 0, desc: "xâ‚™ = (-1)â¿/n â†’ 0" }
        ];
        
        function drawSequenceGraph(nVal = 10) {
            const canvas = canvases['sequenceCanvas'];
            const ctx = contexts['sequenceCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(0, 0);
            ctx.lineTo(graphWidth, 0);
            ctx.stroke();
            
            // æé™çº¿
            const seq = sequences[sequenceType-1];
            const limitY = -seq.limit * graphHeight/2;
            
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, limitY);
            ctx.lineTo(graphWidth, limitY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Îµå¸¦
            const epsilon = 0.2;
            const epsilonY = epsilon * graphHeight/2;
            ctx.fillStyle = 'rgba(102, 187, 255, 0.2)';
            ctx.fillRect(0, limitY - epsilonY, graphWidth, 2*epsilonY);
            
            // ç»˜åˆ¶æ•°åˆ—ç‚¹
            const maxN = 20;
            const pointSpacing = graphWidth / maxN;
            const N = Math.ceil(1/epsilon); // å¯¹äº1/nåºåˆ—
            
            for (let n = 1; n <= maxN; n++) {
                const x = n * pointSpacing;
                const y = -seq.func(n) * graphHeight/2;
                
                // é¢œè‰²ï¼šn > N çš„ç‚¹åœ¨Îµå¸¦å†…
                let color;
                if (sequenceType === 1) {
                    color = (n > N) ? '#0f9d58' : '#ff4081';
                } else {
                    color = (Math.abs(seq.func(n) - seq.limit) < epsilon) ? '#0f9d58' : '#ff4081';
                }
                
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
                
                // æ ‡ç­¾
                if (n === 1 || n === 5 || n === 10 || n === 20) {
                    ctx.fillStyle = '#333';
                    ctx.font = '10px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(`n=${n}`, x, 15);
                }
            }
            
            // å½“å‰ç‚¹
            const currentX = nVal * pointSpacing;
            const currentY = -seq.func(nVal) * graphHeight/2;
            
            ctx.fillStyle = '#4285f4';
            ctx.beginPath();
            ctx.arc(currentX, currentY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿åˆ°æé™çº¿
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(currentX, currentY);
            ctx.lineTo(currentX, limitY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // è·ç¦»æ ‡è®°
            const distance = Math.abs(seq.func(nVal) - seq.limit);
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`è·ç¦»: ${distance.toFixed(4)}`, currentX, (currentY + limitY)/2 - 10);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('nValue').textContent = nVal;
            document.getElementById('xnValue').textContent = seq.func(nVal).toFixed(4);
            document.getElementById('distanceValue').textContent = distance.toFixed(4);
            document.getElementById('sequenceDescription').innerHTML = 
                `${seq.desc}<br>ç»¿è‰²ç‚¹è¡¨ç¤ºåœ¨Îµå¸¦å†…(è¯¯å·®<0.2)ï¼Œçº¢è‰²ç‚¹è¡¨ç¤ºåœ¨Îµå¸¦å¤–`;
        }
        
        function updateSequenceGraph() {
            const slider = document.getElementById('nSlider');
            const nVal = parseInt(slider.value);
            drawSequenceGraph(nVal);
        }
        
        function changeSequence(index) {
            sequenceType = index;
            if (sequenceAnimationId) {
                cancelAnimationFrame(sequenceAnimationId);
                sequenceAnimationId = null;
            }
            drawSequenceGraph(parseInt(document.getElementById('nSlider').value));
        }
        
        function toggleSequenceAnimation() {
            if (sequenceAnimationId) {
                cancelAnimationFrame(sequenceAnimationId);
                sequenceAnimationId = null;
                return;
            }
            
            let n = 1;
            const maxN = 50;
            
            function animate() {
                if (n > maxN) {
                    n = 1;
                }
                
                document.getElementById('nSlider').value = n;
                updateSequenceGraph();
                n++;
                sequenceAnimationId = requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        // 3. Îµ-Î´æé™å®šä¹‰äº¤äº’
        let limitFunctionType = 1;
        const limitFunctions = [
            { func: (x) => x*x, x0: 2, A: 4, desc: "f(x)=xÂ², xâ†’2, A=4" },
            { func: (x) => Math.sin(x), x0: 0, A: 0, desc: "f(x)=sin(x), xâ†’0, A=0" },
            { func: (x) => 1/x, x0: 1, A: 1, desc: "f(x)=1/x, xâ†’1, A=1" }
        ];
        
        function drawEpsilonDeltaGraph(epsilon = 0.5) {
            const canvas = canvases['epsilonDeltaCanvas'];
            const ctx = contexts['epsilonDeltaCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            const func = limitFunctions[limitFunctionType-1];
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // åˆ»åº¦
            for (let i = -2; i <= 2; i++) {
                if (i === 0) continue;
                ctx.beginPath();
                ctx.moveTo(i * graphWidth/8, -5);
                ctx.lineTo(i * graphWidth/8, 5);
                ctx.stroke();
                ctx.fillText((func.x0 + i).toString(), i * graphWidth/8 - 5, 20);
            }
            
            // å‡½æ•°å›¾åƒ
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = func.x0 - 2; x <= func.x0 + 2; x += 0.05) {
                if (x === 0 && limitFunctionType === 3) continue; // è·³è¿‡1/xåœ¨x=0
                
                try {
                    const y = func.func(x);
                    if (!isFinite(y) || Math.abs(y - func.A) > 5) continue;
                    
                    const pixelX = (x - func.x0) * graphWidth/8;
                    const pixelY = -(y - func.A) * graphHeight/4;
                    
                    if (x === func.x0 - 2) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                } catch(e) {
                    // è·³è¿‡ä¸è¿ç»­ç‚¹
                }
            }
            ctx.stroke();
            
            // æé™ç‚¹
            ctx.fillStyle = '#ff4081';
            ctx.beginPath();
            ctx.arc(0, 0, 5, 0, Math.PI * 2);
            ctx.fill();
            
            // è®¡ç®—Î´
            let delta = 0.5;
            if (limitFunctionType === 1) { // xÂ²
                delta = Math.sqrt(epsilon);
            } else if (limitFunctionType === 2) { // sin(x)
                delta = Math.asin(epsilon);
            } else { // 1/x
                delta = epsilon / (1 + epsilon);
            }
            delta = Math.min(delta, 1);
            
            // Îµå¸¦ (yæ–¹å‘)
            const epsilonY = epsilon * graphHeight/4;
            ctx.fillStyle = 'rgba(102, 187, 255, 0.2)';
            ctx.fillRect(-graphWidth/2, -epsilonY, graphWidth, 2*epsilonY);
            
            ctx.strokeStyle = '#66bbff';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(-graphWidth/2, -epsilonY);
            ctx.lineTo(graphWidth/2, -epsilonY);
            ctx.moveTo(-graphWidth/2, epsilonY);
            ctx.lineTo(graphWidth/2, epsilonY);
            ctx.stroke();
            
            // Î´å¸¦ (xæ–¹å‘)
            const deltaX = delta * graphWidth/8;
            ctx.fillStyle = 'rgba(255, 193, 7, 0.2)';
            ctx.fillRect(-deltaX, -graphHeight/2, 2*deltaX, graphHeight);
            
            ctx.strokeStyle = '#ff9800';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(-deltaX, -graphHeight/2);
            ctx.lineTo(-deltaX, graphHeight/2);
            ctx.moveTo(deltaX, -graphHeight/2);
            ctx.lineTo(deltaX, graphHeight/2);
            ctx.stroke();
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`xâ‚€=${func.x0}`, 0, graphHeight/2 - 20);
            ctx.fillText(`A=${func.A}`, -graphWidth/2 + 20, -graphHeight/2 + 20);
            ctx.fillText(`Îµ=${epsilon.toFixed(2)}`, graphWidth/2 - 30, -epsilonY - 5);
            ctx.fillText(`Î´=${delta.toFixed(2)}`, deltaX + 20, graphHeight/2 - 20);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('epsilonValue').textContent = epsilon.toFixed(2);
            document.getElementById('deltaValue').textContent = delta.toFixed(2);
            document.getElementById('xValueLimit').textContent = func.x0.toFixed(1);
            document.getElementById('epsilonDeltaDescription').innerHTML = 
                `${func.desc}<br>å¯¹äºÎµ=${epsilon.toFixed(2)}ï¼Œå­˜åœ¨Î´=${delta.toFixed(2)}ä½¿å¾—å½“|x-${func.x0}|<Î´æ—¶ï¼Œ|f(x)-${func.A}|<Îµ`;
        }
        
        function updateEpsilonDelta() {
            const slider = document.getElementById('epsilonSlider');
            const epsilon = (slider.value / 100) * 1.5; // 0åˆ°1.5
            drawEpsilonDeltaGraph(epsilon);
        }
        
        function changeLimitFunction(index) {
            limitFunctionType = index;
            drawEpsilonDeltaGraph(parseInt(document.getElementById('epsilonSlider').value) / 100 * 1.5);
        }
        
        function resetLimitPoint() {
            // éšæœºé€‰æ‹©ä¸€ä¸ªæé™ç‚¹
            limitFunctionType = Math.floor(Math.random() * 3) + 1;
            drawEpsilonDeltaGraph(parseInt(document.getElementById('epsilonSlider').value) / 100 * 1.5);
        }
        
        // 4. å·¦å³æé™æ¼”ç¤º
        let lrFunctionType = 1;
        let lrAnimationId = null;
        const lrFunctions = [
            { func: (x) => x > 0 ? 1 : -1, leftLimit: -1, rightLimit: 1, desc: "f(x)=|x|/x" },
            { func: (x) => x < 0 ? x : x*x, leftLimit: 0, rightLimit: 0, desc: "åˆ†æ®µå‡½æ•°" }
        ];
        
        function drawLeftRightGraph(approach = 0.1) {
            const canvas = canvases['leftRightCanvas'];
            const ctx = contexts['leftRightCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            const func = lrFunctions[lrFunctionType-1];
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å›¾åƒ
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            
            // å·¦åŠéƒ¨åˆ†
            ctx.beginPath();
            for (let x = -1; x < 0; x += 0.01) {
                const y = func.func(x);
                const pixelX = x * graphWidth/2;
                const pixelY = -y * graphHeight/4;
                
                if (x === -1) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // å³åŠéƒ¨åˆ†
            ctx.beginPath();
            for (let x = 0.01; x <= 1; x += 0.01) {
                const y = func.func(x);
                const pixelX = x * graphWidth/2;
                const pixelY = -y * graphHeight/4;
                
                if (x === 0.01) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // æé™ç‚¹
            ctx.fillStyle = '#ff4081';
            ctx.beginPath();
            ctx.arc(0, -func.leftLimit * graphHeight/4, 4, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.beginPath();
            ctx.arc(0, -func.rightLimit * graphHeight/4, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // å½“å‰é€¼è¿‘ç‚¹
            const leftX = -approach;
            const rightX = approach;
            const leftY = func.func(leftX);
            const rightY = func.func(rightX);
            
            const leftPixelX = leftX * graphWidth/2;
            const rightPixelX = rightX * graphWidth/2;
            const leftPixelY = -leftY * graphHeight/4;
            const rightPixelY = -rightY * graphHeight/4;
            
            // å·¦é€¼è¿‘
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(leftPixelX, leftPixelY, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // å³é€¼è¿‘
            ctx.fillStyle = '#ff9800';
            ctx.beginPath();
            ctx.arc(rightPixelX, rightPixelY, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿åˆ°æé™ç‚¹
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(leftPixelX, leftPixelY);
            ctx.lineTo(0, -func.leftLimit * graphHeight/4);
            ctx.stroke();
            
            ctx.strokeStyle = '#ff9800';
            ctx.beginPath();
            ctx.moveTo(rightPixelX, rightPixelY);
            ctx.lineTo(0, -func.rightLimit * graphHeight/4);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('å·¦æé™', -graphWidth/4, -graphHeight/2 + 20);
            ctx.fillText('å³æé™', graphWidth/4, -graphHeight/2 + 20);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('leftApproach').textContent = leftX.toFixed(2);
            document.getElementById('rightApproach').textContent = rightX.toFixed(2);
            document.getElementById('leftLimit').textContent = func.leftLimit;
            document.getElementById('rightLimit').textContent = func.rightLimit;
            
            if (func.leftLimit === func.rightLimit) {
                document.getElementById('leftRightDescription').innerHTML = 
                    `${func.desc}<br>å·¦å³æé™ç›¸ç­‰(=${func.leftLimit})ï¼Œæ‰€ä»¥æé™å­˜åœ¨`;
            } else {
                document.getElementById('leftRightDescription').innerHTML = 
                    `${func.desc}<br>å·¦å³æé™ä¸ç›¸ç­‰(${func.leftLimit}â‰ ${func.rightLimit})ï¼Œæ‰€ä»¥æé™ä¸å­˜åœ¨`;
            }
        }
        
        function updateLeftRightGraph() {
            const slider = document.getElementById('approachSlider');
            const approach = (slider.value / 100) * 0.5; // 0åˆ°0.5
            drawLeftRightGraph(approach);
        }
        
        function changeLRFunction(index) {
            lrFunctionType = index;
            if (lrAnimationId) {
                cancelAnimationFrame(lrAnimationId);
                lrAnimationId = null;
            }
            drawLeftRightGraph(parseInt(document.getElementById('approachSlider').value) / 100 * 0.5);
        }
        
        function toggleLRAnimation() {
            if (lrAnimationId) {
                cancelAnimationFrame(lrAnimationId);
                lrAnimationId = null;
                return;
            }
            
            let approach = 0.5;
            let direction = -1;
            
            function animate() {
                approach += direction * 0.01;
                
                if (approach <= 0.01) {
                    approach = 0.01;
                    direction = 1;
                } else if (approach >= 0.5) {
                    approach = 0.5;
                    direction = -1;
                }
                
                document.getElementById('approachSlider').value = approach * 200;
                updateLeftRightGraph();
                lrAnimationId = requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        // 5. å¤¹é€¼å‡†åˆ™åŠ¨ç”»
        let squeezeExampleIndex = 1;
        let squeezeAnimationId = null;
        
        function drawSqueezeGraph(xVal = 1.0) {
            const canvas = canvases['squeezeCanvas'];
            const ctx = contexts['squeezeCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // æ ¹æ®ç¤ºä¾‹é€‰æ‹©å‡½æ•°
            let gFunc, fFunc, hFunc, xScale, desc;
            
            if (squeezeExampleIndex === 1) {
                // ç¤ºä¾‹1: sin(x)/x
                xScale = graphWidth/4;
                gFunc = (x) => -1/(x*x);
                fFunc = (x) => Math.sin(x)/x;
                hFunc = (x) => 1/(x*x);
                desc = "g(x)=-1/xÂ², f(x)=sin(x)/x, h(x)=1/xÂ²";
            } else if (squeezeExampleIndex === 2) {
                // ç¤ºä¾‹2: xÂ²sin(1/x)
                xScale = graphWidth/2;
                gFunc = (x) => -x*x;
                fFunc = (x) => x*x*Math.sin(1/x);
                hFunc = (x) => x*x;
                desc = "g(x)=-xÂ², f(x)=xÂ²sin(1/x), h(x)=xÂ²";
            } else {
                // ç¤ºä¾‹3: æ•°åˆ—å¤¹é€¼
                xScale = graphWidth/20;
                gFunc = (n) => 0;
                fFunc = (n) => 1/n;
                hFunc = (n) => 2/n;
                desc = "g(n)=0, f(n)=1/n, h(n)=2/n";
            }
            
            // ç»˜åˆ¶å‡½æ•°
            const colors = ['#4285f4', '#ff4081', '#0f9d58'];
            
            // ç»˜åˆ¶g(x)
            ctx.strokeStyle = colors[0];
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            let xStart = squeezeExampleIndex === 1 ? 0.1 : (squeezeExampleIndex === 2 ? 0.01 : 1);
            let xEnd = squeezeExampleIndex === 1 ? 4 : (squeezeExampleIndex === 2 ? 1 : 20);
            let step = squeezeExampleIndex === 1 ? 0.05 : (squeezeExampleIndex === 2 ? 0.005 : 1);
            
            for (let x = xStart; x <= xEnd; x += step) {
                const y = gFunc(x);
                const pixelX = (x - xStart) * xScale;
                const pixelY = -y * (squeezeExampleIndex === 3 ? graphHeight/10 : graphHeight/4);
                
                if (x === xStart) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // ç»˜åˆ¶f(x)
            ctx.strokeStyle = colors[1];
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let x = xStart; x <= xEnd; x += step) {
                const y = fFunc(x);
                const pixelX = (x - xStart) * xScale;
                const pixelY = -y * (squeezeExampleIndex === 3 ? graphHeight/10 : graphHeight/4);
                
                if (x === xStart) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // ç»˜åˆ¶h(x)
            ctx.strokeStyle = colors[2];
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = xStart; x <= xEnd; x += step) {
                const y = hFunc(x);
                const pixelX = (x - xStart) * xScale;
                const pixelY = -y * (squeezeExampleIndex === 3 ? graphHeight/10 : graphHeight/4);
                
                if (x === xStart) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // å½“å‰xç‚¹
            const currentX = xVal;
            let currentPixelX, currentG, currentF, currentH;
            
            if (squeezeExampleIndex === 1) {
                currentPixelX = (currentX - xStart) * xScale;
                currentG = gFunc(currentX);
                currentF = fFunc(currentX);
                currentH = hFunc(currentX);
            } else if (squeezeExampleIndex === 2) {
                currentPixelX = (currentX - xStart) * xScale;
                currentG = gFunc(currentX);
                currentF = fFunc(currentX);
                currentH = hFunc(currentX);
            } else {
                currentPixelX = (currentX - xStart) * xScale;
                currentG = gFunc(currentX);
                currentF = fFunc(currentX);
                currentH = hFunc(currentX);
            }
            
            // ç»˜åˆ¶å½“å‰ç‚¹
            ctx.fillStyle = colors[0];
            ctx.beginPath();
            ctx.arc(currentPixelX, -currentG * (squeezeExampleIndex === 3 ? graphHeight/10 : graphHeight/4), 4, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = colors[1];
            ctx.beginPath();
            ctx.arc(currentPixelX, -currentF * (squeezeExampleIndex === 3 ? graphHeight/10 : graphHeight/4), 6, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.fillStyle = colors[2];
            ctx.beginPath();
            ctx.arc(currentPixelX, -currentH * (squeezeExampleIndex === 3 ? graphHeight/10 : graphHeight/4), 4, 0, Math.PI * 2);
            ctx.fill();
            
            // å›¾ä¾‹
            ctx.fillStyle = colors[0];
            ctx.fillRect(graphWidth - 100, -graphHeight/2 + 20, 15, 10);
            ctx.fillStyle = '#333';
            ctx.fillText('g(x)', graphWidth - 80, -graphHeight/2 + 28);
            
            ctx.fillStyle = colors[1];
            ctx.fillRect(graphWidth - 100, -graphHeight/2 + 40, 15, 10);
            ctx.fillStyle = '#333';
            ctx.fillText('f(x)', graphWidth - 80, -graphHeight/2 + 48);
            
            ctx.fillStyle = colors[2];
            ctx.fillRect(graphWidth - 100, -graphHeight/2 + 60, 15, 10);
            ctx.fillStyle = '#333';
            ctx.fillText('h(x)', graphWidth - 80, -graphHeight/2 + 68);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('squeezeXValue').textContent = currentX.toFixed(2);
            document.getElementById('gValue').textContent = currentG.toFixed(2);
            document.getElementById('fValue').textContent = currentF.toFixed(2);
            document.getElementById('hValue').textContent = currentH.toFixed(2);
            document.getElementById('squeezeDescription').innerHTML = 
                `${desc}<br>å½“xâ†’âˆ(ä¾‹1)æˆ–xâ†’0(ä¾‹2,3)æ—¶ï¼Œg(x)å’Œh(x)éƒ½è¶‹äº0ï¼Œæ‰€ä»¥f(x)ä¹Ÿè¢«"å¤¹"åˆ°0`;
        }
        
        function updateSqueezeGraph() {
            const slider = document.getElementById('squeezeSlider');
            let xVal;
            
            if (squeezeExampleIndex === 1) {
                xVal = 0.1 + (slider.value / 100) * 3.9; // 0.1åˆ°4.0
            } else if (squeezeExampleIndex === 2) {
                xVal = 0.01 + (slider.value / 100) * 0.99; // 0.01åˆ°1.0
            } else {
                xVal = 1 + (slider.value / 100) * 19; // 1åˆ°20
            }
            
            drawSqueezeGraph(xVal);
        }
        
        function changeSqueezeExample(index) {
            squeezeExampleIndex = index;
            if (squeezeAnimationId) {
                cancelAnimationFrame(squeezeAnimationId);
                squeezeAnimationId = null;
            }
            updateSqueezeGraph();
        }
        
        function toggleSqueezeAnimation() {
            if (squeezeAnimationId) {
                cancelAnimationFrame(squeezeAnimationId);
                squeezeAnimationId = null;
                return;
            }
            
            let sliderValue = 10;
            let direction = 1;
            
            function animate() {
                sliderValue += direction * 0.5;
                
                if (sliderValue >= 100) {
                    sliderValue = 100;
                    direction = -1;
                } else if (sliderValue <= 10) {
                    sliderValue = 10;
                    direction = 1;
                }
                
                document.getElementById('squeezeSlider').value = sliderValue;
                updateSqueezeGraph();
                squeezeAnimationId = requestAnimationFrame(animate);
            }
            
            animate();
        }
        
        // 6. å•è°ƒæœ‰ç•Œå‡†åˆ™
        let monotoneExample = 1;
        
        function drawMonotoneGraph(nVal = 5) {
            const canvas = canvases['monotoneCanvas'];
            const ctx = contexts['monotoneCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(0, 0);
            ctx.lineTo(graphWidth, 0);
            ctx.stroke();
            
            // æ•°åˆ—å®šä¹‰
            let sequence = [];
            let limit, bound;
            
            if (monotoneExample === 1) {
                // å•è°ƒé€’å¢ï¼ša_{n+1} = âˆš(2 + a_n), a_1 = âˆš2
                sequence = [Math.sqrt(2)];
                for (let i = 1; i < 20; i++) {
                    sequence.push(Math.sqrt(2 + sequence[i-1]));
                }
                limit = 2;
                bound = 2; // ä¸Šç•Œ
            } else {
                // å•è°ƒé€’å‡ï¼ša_{n+1} = a_n/2 + 1/a_n, a_1 = 3
                sequence = [3];
                for (let i = 1; i < 20; i++) {
                    sequence.push(sequence[i-1]/2 + 1/sequence[i-1]);
                }
                limit = Math.sqrt(2);
                bound = Math.sqrt(2); // ä¸‹ç•Œ
            }
            
            // ç»˜åˆ¶ç•Œ
            const boundY = -bound * graphHeight/4;
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, boundY);
            ctx.lineTo(graphWidth, boundY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ç»˜åˆ¶æ•°åˆ—ç‚¹
            const maxN = Math.min(20, sequence.length);
            const pointSpacing = graphWidth / maxN;
            
            for (let n = 0; n < maxN; n++) {
                const x = (n + 1) * pointSpacing;
                const y = -sequence[n] * graphHeight/4;
                
                ctx.fillStyle = '#4285f4';
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
                
                // è¿æ¥çº¿
                if (n > 0) {
                    ctx.strokeStyle = '#4285f4';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(x - pointSpacing, -sequence[n-1] * graphHeight/4);
                    ctx.lineTo(x, y);
                    ctx.stroke();
                }
                
                // æ ‡ç­¾
                if (n === 0 || n === 4 || n === 9 || n === maxN-1) {
                    ctx.fillStyle = '#333';
                    ctx.font = '10px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(`a${n+1}`, x, y - 10);
                }
            }
            
            // å½“å‰ç‚¹
            const currentN = Math.min(nVal, maxN) - 1;
            const currentX = (currentN + 1) * pointSpacing;
            const currentY = -sequence[currentN] * graphHeight/4;
            
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(currentX, currentY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿åˆ°ç•Œ
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(currentX, currentY);
            ctx.lineTo(currentX, boundY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(monotoneExample === 1 ? 'ä¸Šç•Œ' : 'ä¸‹ç•Œ', graphWidth/2, boundY - 10);
            ctx.fillText(`æé™=${limit.toFixed(4)}`, graphWidth/2, boundY + 20);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('monotoneN').textContent = Math.min(nVal, maxN);
            document.getElementById('monotoneValue').textContent = sequence[Math.min(currentN, sequence.length-1)].toFixed(4);
            document.getElementById('monotoneLimit').textContent = limit.toFixed(4);
            document.getElementById('monotoneDescription').innerHTML = 
                monotoneExample === 1 ? 
                "å•è°ƒé€’å¢æœ‰ä¸Šç•Œï¼Œæ•°åˆ—æ”¶æ•›åˆ°ä¸Šç•Œ" : 
                "å•è°ƒé€’å‡æœ‰ä¸‹ç•Œï¼Œæ•°åˆ—æ”¶æ•›åˆ°ä¸‹ç•Œ";
        }
        
        function updateMonotoneGraph() {
            const slider = document.getElementById('monotoneSlider');
            const nVal = parseInt(slider.value);
            drawMonotoneGraph(nVal);
        }
        
        function changeMonotoneExample(index) {
            monotoneExample = index;
            updateMonotoneGraph();
        }
        
        function startMonotoneAnimation() {
            let n = 1;
            const maxN = 20;
            
            function animate() {
                if (n > maxN) {
                    n = 1;
                }
                
                document.getElementById('monotoneSlider').value = n;
                updateMonotoneGraph();
                n++;
                setTimeout(animate, 500);
            }
            
            animate();
        }
        
        // 7. æé™è¿ç®—å¯è§†åŒ–
        let operationType = 'all';
        
        function drawOperationsGraph(xVal = 0.5) {
            const canvas = canvases['operationsCanvas'];
            const ctx = contexts['operationsCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            const f = (x) => Math.sin(x);
            const g = (x) => x*x;
            
            // ç»˜åˆ¶å‡½æ•°
            if (operationType === 'all') {
                // ç»˜åˆ¶f(x)å’Œg(x)
                ctx.strokeStyle = '#4285f4';
                ctx.lineWidth = 2;
                ctx.beginPath();
                for (let x = -2; x <= 2; x += 0.05) {
                    const y = f(x);
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (x === -2) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
                
                ctx.strokeStyle = '#0f9d58';
                ctx.beginPath();
                for (let x = -2; x <= 2; x += 0.05) {
                    const y = g(x);
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (x === -2) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
            } else {
                // ç»˜åˆ¶è¿ç®—ç»“æœ
                let operationFunc, color, desc;
                
                if (operationType === 'sum') {
                    operationFunc = (x) => f(x) + g(x);
                    color = '#ff4081';
                    desc = "f(x)+g(x) = sin(x)+xÂ²";
                } else if (operationType === 'product') {
                    operationFunc = (x) => f(x) * g(x);
                    color = '#ff9800';
                    desc = "f(x)Ã—g(x) = sin(x)Ã—xÂ²";
                } else if (operationType === 'quotient') {
                    operationFunc = (x) => x !== 0 ? f(x) / g(x) : NaN;
                    color = '#9c27b0';
                    desc = "f(x)/g(x) = sin(x)/xÂ² (xâ‰ 0)";
                } else { // difference
                    operationFunc = (x) => f(x) - g(x);
                    color = '#00bcd4';
                    desc = "f(x)-g(x) = sin(x)-xÂ²";
                }
                
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                for (let x = -2; x <= 2; x += 0.05) {
                    if (operationType === 'quotient' && Math.abs(x) < 0.05) continue;
                    
                    const y = operationFunc(x);
                    if (!isFinite(y)) continue;
                    
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (x === -2 || (operationType === 'quotient' && x === -1.95)) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
            }
            
            // å½“å‰ç‚¹
            const currentX = xVal;
            const currentFX = f(currentX);
            const currentGX = g(currentX);
            
            let currentPixelX, currentPixelY;
            
            if (operationType === 'all') {
                // ç»˜åˆ¶ä¸¤ä¸ªç‚¹
                currentPixelX = currentX * graphWidth/4;
                
                ctx.fillStyle = '#4285f4';
                ctx.beginPath();
                ctx.arc(currentPixelX, -currentFX * graphHeight/4, 6, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = '#0f9d58';
                ctx.beginPath();
                ctx.arc(currentPixelX, -currentGX * graphHeight/4, 6, 0, Math.PI * 2);
                ctx.fill();
            } else {
                // ç»˜åˆ¶è¿ç®—ç»“æœç‚¹
                let operationFunc;
                if (operationType === 'sum') operationFunc = (x) => f(x) + g(x);
                else if (operationType === 'product') operationFunc = (x) => f(x) * g(x);
                else if (operationType === 'quotient') operationFunc = (x) => x !== 0 ? f(x) / g(x) : NaN;
                else operationFunc = (x) => f(x) - g(x);
                
                const currentY = operationFunc(currentX);
                if (isFinite(currentY)) {
                    currentPixelX = currentX * graphWidth/4;
                    currentPixelY = -currentY * graphHeight/4;
                    
                    ctx.fillStyle = '#ff4081';
                    ctx.beginPath();
                    ctx.arc(currentPixelX, currentPixelY, 8, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('opXValue').textContent = currentX.toFixed(2);
            document.getElementById('fOpValue').textContent = currentFX.toFixed(4);
            document.getElementById('gOpValue').textContent = currentGX.toFixed(4);
            
            if (operationType === 'all') {
                document.getElementById('operationsDescription').innerHTML = 
                    "f(x)=sin(x)ï¼ˆè“è‰²ï¼‰, g(x)=xÂ²ï¼ˆç»¿è‰²ï¼‰<br>ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒè¿ç®—ç»“æœ";
            } else if (operationType === 'sum') {
                document.getElementById('operationsDescription').innerHTML = 
                    "f(x)+g(x) = sin(x)+xÂ²<br>lim[f(x)+g(x)] = lim f(x) + lim g(x) = 0 + 0 = 0";
            } else if (operationType === 'product') {
                document.getElementById('operationsDescription').innerHTML = 
                    "f(x)Ã—g(x) = sin(x)Ã—xÂ²<br>lim[f(x)Ã—g(x)] = lim f(x) Ã— lim g(x) = 0 Ã— 0 = 0";
            } else if (operationType === 'quotient') {
                document.getElementById('operationsDescription').innerHTML = 
                    "f(x)/g(x) = sin(x)/xÂ² (xâ‰ 0)<br>lim[f(x)/g(x)] = lim f(x) / lim g(x) = 0/0 (æœªå®šå¼)<br>å®é™…æé™ä¸ºâˆï¼Œå› ä¸ºsin(x)~xï¼Œæ‰€ä»¥sin(x)/xÂ²~1/xâ†’âˆ";
            } else {
                document.getElementById('operationsDescription').innerHTML = 
                    "f(x)-g(x) = sin(x)-xÂ²<br>lim[f(x)-g(x)] = lim f(x) - lim g(x) = 0 - 0 = 0";
            }
        }
        
        function updateOperationsGraph() {
            const slider = document.getElementById('opSlider');
            const xVal = (slider.value / 100) * 4 - 2; // -2åˆ°2
            drawOperationsGraph(xVal);
        }
        
        function showOperation(type) {
            operationType = type;
            updateOperationsGraph();
        }
        
        function resetOperations() {
            operationType = 'all';
            updateOperationsGraph();
        }
        
        // 8. æœªå®šå¼å¤„ç†
        let indeterminateType = 1;
        
        function drawIndeterminateGraph(xVal = 0.5) {
            const canvas = canvases['indeterminateCanvas'];
            const ctx = contexts['indeterminateCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            let numeratorFunc, denominatorFunc, limit, desc;
            
            if (indeterminateType === 1) {
                numeratorFunc = (x) => Math.sin(x);
                denominatorFunc = (x) => x;
                limit = 1;
                desc = "sin(x)/x â†’ 1 (xâ†’0)";
            } else if (indeterminateType === 2) {
                numeratorFunc = (x) => Math.exp(x) - 1;
                denominatorFunc = (x) => x;
                limit = 1;
                desc = "(eË£-1)/x â†’ 1 (xâ†’0)";
            } else {
                numeratorFunc = (x) => 1 - Math.cos(x);
                denominatorFunc = (x) => x*x;
                limit = 0.5;
                desc = "(1-cos(x))/xÂ² â†’ 1/2 (xâ†’0)";
            }
            
            // ç»˜åˆ¶åˆ†å­å’Œåˆ†æ¯
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let x = -2; x <= 2; x += 0.05) {
                if (x === 0 && indeterminateType !== 3) continue;
                
                const y = numeratorFunc(x);
                const pixelX = x * graphWidth/4;
                const pixelY = -y * graphHeight/4;
                
                if (x === -2 || (indeterminateType !== 3 && x === -1.95)) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            ctx.strokeStyle = '#0f9d58';
            ctx.beginPath();
            for (let x = -2; x <= 2; x += 0.05) {
                if (x === 0 && indeterminateType !== 3) continue;
                
                const y = denominatorFunc(x);
                const pixelX = x * graphWidth/4;
                const pixelY = -y * graphHeight/4;
                
                if (x === -2 || (indeterminateType !== 3 && x === -1.95)) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // ç»˜åˆ¶æ¯”å€¼
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let x = -2; x <= 2; x += 0.05) {
                if (x === 0) continue;
                
                const y = numeratorFunc(x) / denominatorFunc(x);
                if (!isFinite(y)) continue;
                
                const pixelX = x * graphWidth/4;
                const pixelY = -y * graphHeight/4;
                
                if (x === -2 || x === -1.95) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // æé™çº¿
            const limitY = -limit * graphHeight/4;
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(-graphWidth/2, limitY);
            ctx.lineTo(graphWidth/2, limitY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // å½“å‰ç‚¹
            const currentX = xVal;
            const currentNum = numeratorFunc(currentX);
            const currentDen = denominatorFunc(currentX);
            const currentRatio = currentNum / currentDen;
            
            const currentPixelX = currentX * graphWidth/4;
            const currentPixelY = -currentRatio * graphHeight/4;
            
            // åˆ†å­ç‚¹
            ctx.fillStyle = '#4285f4';
            ctx.beginPath();
            ctx.arc(currentPixelX, -currentNum * graphHeight/4, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // åˆ†æ¯ç‚¹
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(currentPixelX, -currentDen * graphHeight/4, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // æ¯”å€¼ç‚¹
            ctx.fillStyle = '#ff4081';
            ctx.beginPath();
            ctx.arc(currentPixelX, currentPixelY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(currentPixelX, currentPixelY);
            ctx.lineTo(currentPixelX, limitY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`æé™=${limit}`, graphWidth/2 - 30, limitY - 10);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('indeterminateX').textContent = currentX.toFixed(2);
            document.getElementById('numeratorValue').textContent = currentNum.toFixed(4);
            document.getElementById('denominatorValue').textContent = currentDen.toFixed(4);
            document.getElementById('ratioValue').textContent = isFinite(currentRatio) ? currentRatio.toFixed(4) : "âˆ";
            document.getElementById('indeterminateDescription').innerHTML = 
                `${desc}<br>è™½ç„¶å‡½æ•°åœ¨x=0å¤„æ˜¯0/0æœªå®šå¼ï¼Œä½†æé™å­˜åœ¨ä¸”ç­‰äº${limit}`;
        }
        
        function updateIndeterminateGraph() {
            const slider = document.getElementById('indeterminateSlider');
            const xVal = (slider.value / 100) * 4 - 2; // -2åˆ°2
            drawIndeterminateGraph(xVal);
        }
        
        function changeIndeterminate(index) {
            indeterminateType = index;
            updateIndeterminateGraph();
        }
        
        function showLimitApproach() {
            let x = 2;
            const interval = setInterval(() => {
                x *= 0.9;
                if (x < 0.01) {
                    x = 0.01;
                    clearInterval(interval);
                }
                
                const sliderValue = ((x + 2) / 4) * 100;
                document.getElementById('indeterminateSlider').value = sliderValue;
                updateIndeterminateGraph();
            }, 100);
        }
        
        // 9. ç¬¬ä¸€é‡è¦æé™
        let showUnitCircle = true;
        let showInequality = true;
        
        function drawFirstLimitGraph(angle = 0.5) {
            const canvas = canvases['firstLimitCanvas'];
            const ctx = contexts['firstLimitCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin + graphWidth/2, margin + graphHeight/2);
            
            // å•ä½åœ†
            if (showUnitCircle) {
                const radius = Math.min(graphWidth, graphHeight) / 3;
                
                ctx.strokeStyle = '#ccc';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.arc(0, 0, radius, 0, Math.PI * 2);
                ctx.stroke();
                
                // åæ ‡è½´
                ctx.strokeStyle = '#666';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(-radius, 0);
                ctx.lineTo(radius, 0);
                ctx.moveTo(0, -radius);
                ctx.lineTo(0, radius);
                ctx.stroke();
            }
            
            // è§’åº¦x
            const radius = Math.min(graphWidth, graphHeight) / 3;
            const cosX = Math.cos(angle);
            const sinX = Math.sin(angle);
            const tanX = Math.tan(angle);
            
            // ç»˜åˆ¶çº¿
            // 1. åŠå¾„
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(radius * cosX, -radius * sinX);
            ctx.stroke();
            
            // 2. sin(x) - å‚ç›´çº¿
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(radius * cosX, 0);
            ctx.lineTo(radius * cosX, -radius * sinX);
            ctx.stroke();
            
            // 3. tan(x) - åˆ‡çº¿
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(radius, 0);
            ctx.lineTo(radius, -radius * tanX);
            ctx.stroke();
            
            // 4. å¼§é•¿x
            ctx.strokeStyle = '#ff9800';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(0, 0, radius * 0.8, 0, angle);
            ctx.stroke();
            
            // ä¸ç­‰å¼æ ‡è®°
            if (showInequality) {
                ctx.fillStyle = '#666';
                ctx.font = '14px Arial';
                ctx.textAlign = 'left';
                ctx.fillText('sin(x) < x < tan(x)', -graphWidth/2 + 20, -graphHeight/2 + 30);
                
                // æ•°å€¼æ¯”è¾ƒ
                ctx.fillText(`sin(${angle.toFixed(2)}) = ${sinX.toFixed(4)}`, -graphWidth/2 + 20, -graphHeight/2 + 50);
                ctx.fillText(`${angle.toFixed(2)}`, -graphWidth/2 + 20, -graphHeight/2 + 70);
                ctx.fillText(`tan(${angle.toFixed(2)}) = ${tanX.toFixed(4)}`, -graphWidth/2 + 20, -graphHeight/2 + 90);
            }
            
            // æ¯”å€¼
            const ratio = sinX / angle;
            ctx.fillStyle = ratio > 0.99 ? '#0f9d58' : '#ff4081';
            ctx.font = 'bold 16px Arial';
            ctx.fillText(`sin(x)/x = ${ratio.toFixed(4)}`, -graphWidth/2 + 20, -graphHeight/2 + 120);
            
            if (Math.abs(ratio - 1) < 0.01) {
                ctx.fillText('â†’ 1 (xâ†’0)', -graphWidth/2 + 20, -graphHeight/2 + 140);
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('angleValue').textContent = angle.toFixed(2);
            document.getElementById('sinValue').textContent = sinX.toFixed(4);
            document.getElementById('arcValue').textContent = angle.toFixed(4);
            document.getElementById('tanValue').textContent = tanX.toFixed(4);
            document.getElementById('firstLimitDescription').innerHTML = 
                "åœ¨å•ä½åœ†ä¸­: sin(x) = å‚ç›´è¾¹, x = å¼§é•¿, tan(x) = åˆ‡çº¿<br>å½“xâ†’0æ—¶ï¼Œsin(x) â‰ˆ x â‰ˆ tan(x)ï¼Œæ‰€ä»¥ sin(x)/x â†’ 1";
        }
        
        function updateFirstLimit() {
            const slider = document.getElementById('angleSlider');
            const angle = (slider.value / 80) * 1.5; // 0åˆ°1.5å¼§åº¦
            drawFirstLimitGraph(angle);
        }
        
        function toggleUnitCircle() {
            showUnitCircle = !showUnitCircle;
            updateFirstLimit();
        }
        
        function toggleInequality() {
            showInequality = !showInequality;
            updateFirstLimit();
        }
        
        function animateFirstLimit() {
            let angle = 1.5;
            const interval = setInterval(() => {
                angle *= 0.9;
                if (angle < 0.05) {
                    angle = 0.05;
                    clearInterval(interval);
                }
                
                const sliderValue = (angle / 1.5) * 80;
                document.getElementById('angleSlider').value = sliderValue;
                updateFirstLimit();
            }, 100);
        }
        
        // 10. ç¬¬äºŒé‡è¦æé™ä¸å¤åˆ©
        let compoundRate = 1;
        
        function drawSecondLimitGraph(n = 10) {
            const canvas = canvases['secondLimitCanvas'];
            const ctx = contexts['secondLimitCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, -graphHeight);
            ctx.moveTo(0, 0);
            ctx.lineTo(graphWidth, 0);
            ctx.stroke();
            
            // æ•°æ®ç‚¹
            const maxN = 100;
            const data = [];
            const rate = compoundRate; // 1=100%, 0.5=50%, 2=200%
            
            for (let i = 1; i <= maxN; i++) {
                data.push(Math.pow(1 + rate/i, i));
            }
            
            // eçš„æ°´å¹³çº¿
            const eValue = Math.exp(rate);
            const eY = -eValue * graphHeight / 4;
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, eY);
            ctx.lineTo(graphWidth, eY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ç»˜åˆ¶æ›²çº¿
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let i = 0; i < data.length; i++) {
                const x = (i + 1) * graphWidth / maxN;
                const y = -data[i] * graphHeight / 4;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
                
                // ç»˜åˆ¶ç‚¹
                if ((i + 1) % 10 === 0 || i + 1 === n) {
                    ctx.fillStyle = '#4285f4';
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            ctx.stroke();
            
            // å½“å‰ç‚¹
            const currentIndex = Math.min(n - 1, maxN - 1);
            const currentValue = data[currentIndex];
            const currentX = (currentIndex + 1) * graphWidth / maxN;
            const currentY = -currentValue * graphHeight / 4;
            
            ctx.fillStyle = '#ff4081';
            ctx.beginPath();
            ctx.arc(currentX, currentY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿åˆ°xè½´å’Œeçº¿
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(currentX, currentY);
            ctx.lineTo(currentX, 0);
            ctx.moveTo(currentX, currentY);
            ctx.lineTo(0, currentY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText(`n=${n}`, currentX + 5, -5);
            ctx.fillText(`å€¼=${currentValue.toFixed(4)}`, 5, currentY - 5);
            
            ctx.fillStyle = '#0f9d58';
            ctx.fillText(`e^${rate} â‰ˆ ${eValue.toFixed(4)}`, graphWidth - 100, eY - 5);
            
            // å¤åˆ©è§£é‡Š
            ctx.fillStyle = '#666';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`å¹´åˆ©ç‡: ${(rate*100).toFixed(0)}%`, graphWidth/2, -graphHeight + 30);
            ctx.fillText(`ä¸€å¹´è®¡æ¯${n}æ¬¡: (1+${rate}/${n})^{${n}}`, graphWidth/2, -graphHeight + 50);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('compoundN').textContent = n;
            document.getElementById('compoundValue').textContent = currentValue.toFixed(4);
            document.getElementById('secondLimitDescription').innerHTML = 
                `å¤åˆ©è®¡ç®—ï¼šå¹´åˆ©ç‡${(rate*100).toFixed(0)}%ï¼Œä¸€å¹´è®¡æ¯${n}æ¬¡<br>å½“nâ†’âˆæ—¶ï¼Œæé™ä¸ºe^${rate} â‰ˆ ${eValue.toFixed(4)}`;
        }
        
        function updateSecondLimit() {
            const slider = document.getElementById('compoundSlider');
            const n = parseInt(slider.value);
            drawSecondLimitGraph(n);
        }
        
        function changeCompoundRate(rateIndex) {
            if (rateIndex === 1) compoundRate = 1;    // 100%
            else if (rateIndex === 2) compoundRate = 0.5; // 50%
            else compoundRate = 2; // 200%
            updateSecondLimit();
        }
        
        function animateToInfinity() {
            let n = 1;
            const interval = setInterval(() => {
                n = Math.min(n * 1.2, 100);
                if (n >= 100) {
                    clearInterval(interval);
                }
                
                document.getElementById('compoundSlider').value = n;
                updateSecondLimit();
            }, 100);
        }
        
        // 11. æ— ç©·å°æ¯”è¾ƒ
        let alphaPower = 1;
        let betaPower = 2;
        
        function drawInfinitesimalGraph(xVal = 0.5) {
            const canvas = canvases['infinitesimalCanvas'];
            const ctx = contexts['infinitesimalCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, -graphHeight);
            ctx.moveTo(0, 0);
            ctx.lineTo(graphWidth, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            const alphaFunc = (x) => Math.pow(x, alphaPower);
            const betaFunc = (x) => Math.pow(x, betaPower);
            
            // ç»˜åˆ¶å‡½æ•°
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let x = 0; x <= 1; x += 0.01) {
                const y = alphaFunc(x);
                const pixelX = x * graphWidth;
                const pixelY = -y * graphHeight;
                
                if (x === 0) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            ctx.strokeStyle = '#0f9d58';
            ctx.beginPath();
            for (let x = 0; x <= 1; x += 0.01) {
                const y = betaFunc(x);
                const pixelX = x * graphWidth;
                const pixelY = -y * graphHeight;
                
                if (x === 0) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // å½“å‰ç‚¹
            const currentX = xVal;
            const currentAlpha = alphaFunc(currentX);
            const currentBeta = betaFunc(currentX);
            const currentRatio = currentAlpha / currentBeta;
            
            const currentPixelX = currentX * graphWidth;
            const currentAlphaY = -currentAlpha * graphHeight;
            const currentBetaY = -currentBeta * graphHeight;
            
            // Î±ç‚¹
            ctx.fillStyle = '#4285f4';
            ctx.beginPath();
            ctx.arc(currentPixelX, currentAlphaY, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // Î²ç‚¹
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(currentPixelX, currentBetaY, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // å›¾ä¾‹
            ctx.fillStyle = '#4285f4';
            ctx.fillRect(graphWidth - 120, -graphHeight + 30, 15, 10);
            ctx.fillStyle = '#333';
            ctx.fillText(`Î± = x^${alphaPower}`, graphWidth - 100, -graphHeight + 38);
            
            ctx.fillStyle = '#0f9d58';
            ctx.fillRect(graphWidth - 120, -graphHeight + 55, 15, 10);
            ctx.fillStyle = '#333';
            ctx.fillText(`Î² = x^${betaPower}`, graphWidth - 100, -graphHeight + 63);
            
            // æ¯”è¾ƒè¯´æ˜
            let comparison = '';
            if (alphaPower > betaPower) {
                comparison = `Î±æ˜¯Î²çš„é«˜é˜¶æ— ç©·å° (Î± = o(Î²))ï¼Œå› ä¸º Î±/Î² = x^${alphaPower-betaPower} â†’ 0`;
            } else if (alphaPower < betaPower) {
                comparison = `Î±æ˜¯Î²çš„ä½é˜¶æ— ç©·å°ï¼Œå› ä¸º Î±/Î² = x^${alphaPower-betaPower} â†’ âˆ`;
            } else {
                comparison = `Î±å’ŒÎ²æ˜¯åŒé˜¶æ— ç©·å°ï¼Œå› ä¸º Î±/Î² = 1`;
            }
            
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText(comparison, 10, -graphHeight + 30);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('infXValue').textContent = currentX.toFixed(2);
            document.getElementById('alphaValue').textContent = currentAlpha.toFixed(4);
            document.getElementById('betaValue').textContent = currentBeta.toFixed(4);
            document.getElementById('ratioInfValue').textContent = isFinite(currentRatio) ? currentRatio.toFixed(4) : "âˆ";
            document.getElementById('infinitesimalDescription').innerHTML = 
                `æ¯”è¾ƒ x^${alphaPower} å’Œ x^${betaPower} å½“ xâ†’0 æ—¶çš„è¶‹è¿‘é€Ÿåº¦<br>${comparison}`;
        }
        
        function updateInfinitesimalGraph() {
            const slider = document.getElementById('infSlider');
            const xVal = slider.value / 100; // 0åˆ°1
            drawInfinitesimalGraph(xVal);
        }
        
        function compareInfinitesimal(alpha, beta) {
            alphaPower = alpha;
            betaPower = beta;
            updateInfinitesimalGraph();
        }
        
        function showAllInfinitesimals() {
            // ç»˜åˆ¶å¤šä¸ªæ— ç©·å°
            const canvas = canvases['infinitesimalCanvas'];
            const ctx = contexts['infinitesimalCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(0, -graphHeight);
            ctx.moveTo(0, 0);
            ctx.lineTo(graphWidth, 0);
            ctx.stroke();
            
            // ç»˜åˆ¶å¤šä¸ªæ— ç©·å°
            const powers = [0.5, 1, 1.5, 2, 2.5];
            const colors = ['#4285f4', '#0f9d58', '#ff4081', '#ff9800', '#9c27b0'];
            
            powers.forEach((power, index) => {
                const func = (x) => Math.pow(x, power);
                ctx.strokeStyle = colors[index];
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                for (let x = 0; x <= 1; x += 0.01) {
                    const y = func(x);
                    const pixelX = x * graphWidth;
                    const pixelY = -y * graphHeight;
                    
                    if (x === 0) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
                
                // å›¾ä¾‹
                ctx.fillStyle = colors[index];
                ctx.fillRect(graphWidth - 120, -graphHeight + 30 + index*20, 15, 10);
                ctx.fillStyle = '#333';
                ctx.fillText(`x^${power}`, graphWidth - 100, -graphHeight + 38 + index*20);
            });
            
            ctx.restore();
            
            document.getElementById('infinitesimalDescription').innerHTML = 
                "ä¸åŒé˜¶æ•°çš„æ— ç©·å°æ¯”è¾ƒï¼šé˜¶æ•°è¶Šé«˜ï¼Œè¶‹äº0çš„é€Ÿåº¦è¶Šå¿«<br>xÂ²æ¯”xå¿«ï¼Œxæ¯”âˆšxå¿«ï¼Œç­‰ç­‰";
        }
        
        // 12. ç­‰ä»·æ— ç©·å°æ›¿æ¢
        let equivalentType = 1;
        
        function drawEquivalentGraph(xVal = 0.5) {
            const canvas = canvases['equivalentCanvas'];
            const ctx = contexts['equivalentCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            let func, equivFunc, desc;
            
            if (equivalentType === 1) {
                func = (x) => Math.sin(x);
                equivFunc = (x) => x;
                desc = "sin(x) ~ x";
            } else if (equivalentType === 2) {
                func = (x) => Math.tan(x);
                equivFunc = (x) => x;
                desc = "tan(x) ~ x";
            } else if (equivalentType === 3) {
                func = (x) => Math.exp(x) - 1;
                equivFunc = (x) => x;
                desc = "eË£-1 ~ x";
            } else {
                func = (x) => Math.log(1 + x);
                equivFunc = (x) => x;
                desc = "ln(1+x) ~ x";
            }
            
            // ç»˜åˆ¶å‡½æ•°
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let x = -1; x <= 1; x += 0.05) {
                const y = func(x);
                const pixelX = x * graphWidth/2;
                const pixelY = -y * graphHeight/4;
                
                if (x === -1) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // ç»˜åˆ¶ç­‰ä»·å‡½æ•°
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            for (let x = -1; x <= 1; x += 0.05) {
                const y = equivFunc(x);
                const pixelX = x * graphWidth/2;
                const pixelY = -y * graphHeight/4;
                
                if (x === -1) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            ctx.setLineDash([]);
            
            // å½“å‰ç‚¹
            const currentX = xVal;
            const currentY = func(currentX);
            const currentEquivY = equivFunc(currentX);
            const error = Math.abs(currentY - currentEquivY) / Math.abs(currentEquivY) * 100;
            
            const currentPixelX = currentX * graphWidth/2;
            const currentPixelY = -currentY * graphHeight/4;
            const currentEquivPixelY = -currentEquivY * graphHeight/4;
            
            // å‡½æ•°ç‚¹
            ctx.fillStyle = '#4285f4';
            ctx.beginPath();
            ctx.arc(currentPixelX, currentPixelY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // ç­‰ä»·å‡½æ•°ç‚¹
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(currentPixelX, currentEquivPixelY, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(currentPixelX, currentPixelY);
            ctx.lineTo(currentPixelX, currentEquivPixelY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // è¯¯å·®æ ‡è®°
            ctx.fillStyle = error < 5 ? '#0f9d58' : (error < 20 ? '#ff9800' : '#ff4081');
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`è¯¯å·®: ${error.toFixed(2)}%`, currentPixelX, (currentPixelY + currentEquivPixelY)/2 - 10);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('equivXValue').textContent = currentX.toFixed(2);
            document.getElementById('sinEquivValue').textContent = currentY.toFixed(4);
            document.getElementById('xEquivValue').textContent = currentEquivY.toFixed(4);
            document.getElementById('errorValue').textContent = error.toFixed(2) + '%';
            document.getElementById('equivalentDescription').innerHTML = 
                `${desc} (å½“xâ†’0æ—¶)<br>å½“xè¾ƒå°æ—¶ï¼Œä¸¤è€…éå¸¸æ¥è¿‘ï¼Œå¯ä»¥äº’ç›¸æ›¿æ¢ï¼ˆä¹˜é™¤è¿ç®—ï¼‰`;
        }
        
        function updateEquivalentGraph() {
            const slider = document.getElementById('equivSlider');
            const xVal = (slider.value / 50) * 2 - 1; // -1åˆ°1
            drawEquivalentGraph(xVal);
        }
        
        function changeEquivalent(index) {
            equivalentType = index;
            updateEquivalentGraph();
        }
        
        // 13. è¿ç»­å‡½æ•°vsé—´æ–­å‡½æ•°
        let continuityType = 'continuous';
        
        function drawContinuityGraph(xVal = 0) {
            const canvas = canvases['continuityCanvas'];
            const ctx = contexts['continuityCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // è¿ç»­å‡½æ•°
            const continuousFunc = (x) => Math.sin(x);
            
            ctx.strokeStyle = '#0f9d58';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let x = -2; x <= 2; x += 0.05) {
                const y = continuousFunc(x);
                const pixelX = x * graphWidth/4;
                const pixelY = -y * graphHeight/4;
                
                if (x === -2) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // é—´æ–­å‡½æ•°
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 2;
            
            let discFunc, discDesc;
            
            if (continuityType === 'removable') {
                // å¯å»é—´æ–­ç‚¹: sin(x)/x
                discFunc = (x) => x !== 0 ? Math.sin(x)/x : NaN;
                discDesc = "å¯å»é—´æ–­ç‚¹: f(x)=sin(x)/x (xâ‰ 0)";
            } else if (continuityType === 'jump') {
                // è·³è·ƒé—´æ–­ç‚¹: åˆ†æ®µå‡½æ•°
                discFunc = (x) => x > 0 ? 1 : -1;
                discDesc = "è·³è·ƒé—´æ–­ç‚¹: f(x)=1 (x>0), f(x)=-1 (x<0)";
            } else if (continuityType === 'infinite') {
                // æ— ç©·é—´æ–­ç‚¹: 1/x
                discFunc = (x) => x !== 0 ? 1/x : NaN;
                discDesc = "æ— ç©·é—´æ–­ç‚¹: f(x)=1/x";
            } else if (continuityType === 'oscillating') {
                // æŒ¯è¡é—´æ–­ç‚¹: sin(1/x)
                discFunc = (x) => x !== 0 ? Math.sin(1/x) : NaN;
                discDesc = "æŒ¯è¡é—´æ–­ç‚¹: f(x)=sin(1/x)";
            } else {
                // è¿ç»­å‡½æ•°
                discFunc = (x) => Math.sin(x);
                discDesc = "è¿ç»­å‡½æ•°: f(x)=sin(x)";
            }
            
            if (continuityType !== 'continuous') {
                ctx.beginPath();
                let firstPoint = true;
                
                for (let x = -2; x <= 2; x += 0.01) {
                    if (continuityType === 'infinite' && Math.abs(x) < 0.1) continue;
                    if (continuityType === 'oscillating' && Math.abs(x) < 0.1) continue;
                    
                    const y = discFunc(x);
                    if (isNaN(y) || !isFinite(y)) {
                        firstPoint = true;
                        continue;
                    }
                    
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * (continuityType === 'infinite' ? graphHeight/8 : graphHeight/4);
                    
                    // é™åˆ¶yèŒƒå›´
                    const clampedY = Math.max(-graphHeight/2, Math.min(graphHeight/2, pixelY));
                    
                    if (firstPoint) {
                        ctx.moveTo(pixelX, clampedY);
                        firstPoint = false;
                    } else {
                        ctx.lineTo(pixelX, clampedY);
                    }
                }
                ctx.stroke();
            }
            
            // å½“å‰ç‚¹
            const currentX = xVal/10; // æ»‘å—èŒƒå›´-100åˆ°100ï¼Œæ˜ å°„åˆ°-10åˆ°10
            const currentPixelX = currentX * graphWidth/4;
            
            // è¿ç»­å‡½æ•°ç‚¹
            const contY = continuousFunc(currentX);
            const contPixelY = -contY * graphHeight/4;
            
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(currentPixelX, contPixelY, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // é—´æ–­å‡½æ•°ç‚¹
            let discY, discPixelY;
            try {
                discY = discFunc(currentX);
                if (isFinite(discY)) {
                    discPixelY = -discY * (continuityType === 'infinite' ? graphHeight/8 : graphHeight/4);
                    ctx.fillStyle = '#ff4081';
                    ctx.beginPath();
                    ctx.arc(currentPixelX, discPixelY, 6, 0, Math.PI * 2);
                    ctx.fill();
                }
            } catch(e) {
                // è·³è¿‡ä¸è¿ç»­ç‚¹
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('contXValue').textContent = currentX.toFixed(1);
            document.getElementById('contValue').textContent = contY.toFixed(4);
            
            let discValue = 'NaN';
            if (discY !== undefined && isFinite(discY)) {
                discValue = discY.toFixed(4);
            }
            document.getElementById('discValue').textContent = discValue;
            
            document.getElementById('continuityDescription').innerHTML = 
                `ç»¿è‰²: è¿ç»­å‡½æ•° f(x)=sin(x)<br>çº¢è‰²: ${discDesc}`;
        }
        
        function updateContinuityGraph() {
            const slider = document.getElementById('contSlider');
            const xVal = parseInt(slider.value);
            drawContinuityGraph(xVal);
        }
        
        function showContinuousExample() {
            continuityType = 'continuous';
            updateContinuityGraph();
        }
        
        function showRemovableDiscontinuity() {
            continuityType = 'removable';
            updateContinuityGraph();
        }
        
        function showJumpDiscontinuity() {
            continuityType = 'jump';
            updateContinuityGraph();
        }
        
        function showInfiniteDiscontinuity() {
            continuityType = 'infinite';
            updateContinuityGraph();
        }
        
        function showOscillatingDiscontinuity() {
            continuityType = 'oscillating';
            updateContinuityGraph();
        }
        
        // 14. ä¿®å¤é—´æ–­ç‚¹
        function drawRepairGraph(newF0 = 1.0) {
            const canvas = canvases['repairCanvas'];
            const ctx = contexts['repairCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // åŸå‡½æ•°: sin(x)/x (xâ‰ 0)
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = -2; x <= 2; x += 0.05) {
                if (x === 0) continue;
                const y = Math.sin(x)/x;
                const pixelX = x * graphWidth/4;
                const pixelY = -y * graphHeight/4;
                
                if (x === -2) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // æé™ç‚¹
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(0, -1 * graphHeight/4, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // æ–°å®šä¹‰çš„ç‚¹
            const newY = newF0;
            const newPixelY = -newY * graphHeight/4;
            
            ctx.fillStyle = Math.abs(newY - 1) < 0.1 ? '#0f9d58' : '#ff4081';
            ctx.beginPath();
            ctx.arc(0, newPixelY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, newPixelY);
            ctx.lineTo(0, -1 * graphHeight/4);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ ‡è®°
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('æé™=1', 20, -graphHeight/4 + 5);
            ctx.fillText(`f(0)=${newY.toFixed(2)}`, 20, newPixelY + 5);
            
            // è¿ç»­æ€§åˆ¤æ–­
            const isContinuous = Math.abs(newY - 1) < 0.1;
            ctx.fillStyle = isContinuous ? '#0f9d58' : '#ff4081';
            ctx.font = 'bold 14px Arial';
            ctx.fillText(isContinuous ? 'è¿ç»­' : 'ä¸è¿ç»­', graphWidth/2 - 30, -graphHeight/2 + 30);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('newF0Value').textContent = newY.toFixed(2);
            document.getElementById('isContinuous').textContent = isContinuous ? 'æ˜¯' : 'å¦';
            document.getElementById('isContinuous').style.color = isContinuous ? '#0f9d58' : '#ff4081';
            document.getElementById('repairDescription').innerHTML = 
                `f(x)=sin(x)/x (xâ‰ 0)ï¼Œæé™=1<br>å®šä¹‰f(0)=${newY.toFixed(2)} ${isContinuous ? 'ä½¿å‡½æ•°è¿ç»­' : 'ï¼Œå‡½æ•°ä»ä¸è¿ç»­'}`;
        }
        
        function updateRepairGraph() {
            const slider = document.getElementById('repairSlider');
            const newF0 = slider.value / 100 * 2; // 0åˆ°2
            drawRepairGraph(newF0);
        }
        
        function repairDiscontinuity() {
            document.getElementById('repairSlider').value = 50; // f(0)=1
            updateRepairGraph();
        }
        
        function breakContinuity() {
            document.getElementById('repairSlider').value = 150; // f(0)=3
            updateRepairGraph();
        }
        
        function showLimitPoint() {
            // é«˜äº®æé™ç‚¹
            const canvas = canvases['repairCanvas'];
            const ctx = contexts['repairCanvas'];
            if (!canvas || !ctx) return;
            
            ctx.save();
            ctx.translate(canvas.width/2, canvas.height/2);
            
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(0, -canvas.height/8, 10, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
            
            setTimeout(() => updateRepairGraph(), 1000);
        }
        
        // 15. è¿ç»­å‡½æ•°çš„è¿ç®—
        let continuousOpType = 'all';
        
        function drawContinuousOpsGraph(xVal = 0.5) {
            const canvas = canvases['continuousOpsCanvas'];
            const ctx = contexts['continuousOpsCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            const f = (x) => Math.sin(x);
            const g = (x) => Math.cos(x);
            
            if (continuousOpType === 'all') {
                // ç»˜åˆ¶f(x)å’Œg(x)
                ctx.strokeStyle = '#4285f4';
                ctx.lineWidth = 2;
                ctx.beginPath();
                for (let x = -2; x <= 2; x += 0.05) {
                    const y = f(x);
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (x === -2) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
                
                ctx.strokeStyle = '#0f9d58';
                ctx.beginPath();
                for (let x = -2; x <= 2; x += 0.05) {
                    const y = g(x);
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (x === -2) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
            } else {
                // ç»˜åˆ¶è¿ç®—ç»“æœ
                let operationFunc, color, desc;
                
                if (continuousOpType === 'sum') {
                    operationFunc = (x) => f(x) + g(x);
                    color = '#ff4081';
                    desc = "f(x)+g(x) = sin(x)+cos(x)";
                } else if (continuousOpType === 'product') {
                    operationFunc = (x) => f(x) * g(x);
                    color = '#ff9800';
                    desc = "f(x)Ã—g(x) = sin(x)cos(x)";
                } else if (continuousOpType === 'quotient') {
                    operationFunc = (x) => f(x) / g(x);
                    color = '#9c27b0';
                    desc = "f(x)/g(x) = sin(x)/cos(x) = tan(x)";
                } else { // composite
                    operationFunc = (x) => f(g(x));
                    color = '#00bcd4';
                    desc = "f(g(x)) = sin(cos(x))";
                }
                
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                for (let x = -2; x <= 2; x += 0.05) {
                    if (continuousOpType === 'quotient' && Math.abs(g(x)) < 0.1) continue;
                    
                    const y = operationFunc(x);
                    if (!isFinite(y)) continue;
                    
                    const pixelX = x * graphWidth/4;
                    const pixelY = -y * graphHeight/4;
                    
                    if (x === -2 || (continuousOpType === 'quotient' && x === -1.95)) {
                        ctx.moveTo(pixelX, pixelY);
                    } else {
                        ctx.lineTo(pixelX, pixelY);
                    }
                }
                ctx.stroke();
            }
            
            // å½“å‰ç‚¹
            const currentX = xVal;
            const currentFX = f(currentX);
            const currentGX = g(currentX);
            
            if (continuousOpType === 'all') {
                // ç»˜åˆ¶ä¸¤ä¸ªç‚¹
                const currentPixelX = currentX * graphWidth/4;
                
                ctx.fillStyle = '#4285f4';
                ctx.beginPath();
                ctx.arc(currentPixelX, -currentFX * graphHeight/4, 6, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.fillStyle = '#0f9d58';
                ctx.beginPath();
                ctx.arc(currentPixelX, -currentGX * graphHeight/4, 6, 0, Math.PI * 2);
                ctx.fill();
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('opsXValue').textContent = currentX.toFixed(2);
            document.getElementById('fOpsValue').textContent = currentFX.toFixed(4);
            document.getElementById('gOpsValue').textContent = currentGX.toFixed(4);
            
            if (continuousOpType === 'all') {
                document.getElementById('continuousOpsDescription').innerHTML = 
                    "f(x)=sin(x)ï¼ˆè“è‰²ï¼‰, g(x)=cos(x)ï¼ˆç»¿è‰²ï¼‰éƒ½æ˜¯è¿ç»­å‡½æ•°<br>å®ƒä»¬çš„å’Œã€å·®ã€ç§¯ã€å•†ã€å¤åˆä¹Ÿæ˜¯è¿ç»­å‡½æ•°";
            } else if (continuousOpType === 'sum') {
                document.getElementById('continuousOpsDescription').innerHTML = 
                    "è¿ç»­å‡½æ•°çš„å’Œä»æ˜¯è¿ç»­å‡½æ•°: f(x)+g(x) = sin(x)+cos(x)";
            } else if (continuousOpType === 'product') {
                document.getElementById('continuousOpsDescription').innerHTML = 
                    "è¿ç»­å‡½æ•°çš„ç§¯ä»æ˜¯è¿ç»­å‡½æ•°: f(x)Ã—g(x) = sin(x)cos(x)";
            } else if (continuousOpType === 'quotient') {
                document.getElementById('continuousOpsDescription').innerHTML = 
                    "è¿ç»­å‡½æ•°çš„å•†åœ¨åˆ†æ¯ä¸ä¸ºé›¶å¤„è¿ç»­: f(x)/g(x) = sin(x)/cos(x) = tan(x)";
            } else {
                document.getElementById('continuousOpsDescription').innerHTML = 
                    "è¿ç»­å‡½æ•°çš„å¤åˆä»æ˜¯è¿ç»­å‡½æ•°: f(g(x)) = sin(cos(x))";
            }
        }
        
        function updateContinuousOpsGraph() {
            const slider = document.getElementById('opsSlider');
            const xVal = (slider.value / 100) * 4 - 2; // -2åˆ°2
            drawContinuousOpsGraph(xVal);
        }
        
        function showSumOfContinuous() {
            continuousOpType = 'sum';
            updateContinuousOpsGraph();
        }
        
        function showProductOfContinuous() {
            continuousOpType = 'product';
            updateContinuousOpsGraph();
        }
        
        function showQuotientOfContinuous() {
            continuousOpType = 'quotient';
            updateContinuousOpsGraph();
        }
        
        function showCompositeContinuous() {
            continuousOpType = 'composite';
            updateContinuousOpsGraph();
        }
        
        function resetContinuousOps() {
            continuousOpType = 'all';
            updateContinuousOpsGraph();
        }
        
        // 16. åˆç­‰å‡½æ•°çš„è¿ç»­æ€§
        let elementaryType = 1;
        
        function drawElementaryGraph(xVal = 1.0) {
            const canvas = canvases['elementaryCanvas'];
            const ctx = contexts['elementaryCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            let func, xMin, xMax, desc, type;
            
            if (elementaryType === 1) {
                func = (x) => x*x;
                xMin = -2; xMax = 2;
                desc = "f(x)=xÂ²";
                type = "å¹‚å‡½æ•°";
            } else if (elementaryType === 2) {
                func = (x) => Math.exp(x);
                xMin = -2; xMax = 2;
                desc = "f(x)=eË£";
                type = "æŒ‡æ•°å‡½æ•°";
            } else if (elementaryType === 3) {
                func = (x) => Math.log(x);
                xMin = 0.1; xMax = 4;
                desc = "f(x)=ln(x)";
                type = "å¯¹æ•°å‡½æ•°";
            } else if (elementaryType === 4) {
                func = (x) => Math.sin(x);
                xMin = -2*Math.PI; xMax = 2*Math.PI;
                desc = "f(x)=sin(x)";
                type = "ä¸‰è§’å‡½æ•°";
            } else {
                func = (x) => Math.asin(x);
                xMin = -0.99; xMax = 0.99;
                desc = "f(x)=arcsin(x)";
                type = "åä¸‰è§’å‡½æ•°";
            }
            
            // ç»˜åˆ¶å‡½æ•°
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            let firstPoint = true;
            for (let x = xMin; x <= xMax; x += 0.05) {
                // æ£€æŸ¥å®šä¹‰åŸŸ
                if (elementaryType === 3 && x <= 0) continue;
                if (elementaryType === 5 && (x < -1 || x > 1)) continue;
                
                try {
                    const y = func(x);
                    if (!isFinite(y)) {
                        firstPoint = true;
                        continue;
                    }
                    
                    const pixelX = ((x - xMin) / (xMax - xMin)) * graphWidth - graphWidth/2;
                    const pixelY = -y * graphHeight/4;
                    
                    // é™åˆ¶yèŒƒå›´
                    const clampedY = Math.max(-graphHeight/2, Math.min(graphHeight/2, pixelY));
                    
                    if (firstPoint) {
                        ctx.moveTo(pixelX, clampedY);
                        firstPoint = false;
                    } else {
                        ctx.lineTo(pixelX, clampedY);
                    }
                } catch(e) {
                    firstPoint = true;
                }
            }
            ctx.stroke();
            
            // å½“å‰ç‚¹
            let currentX = xVal;
            // è°ƒæ•´xå€¼åˆ°å®šä¹‰åŸŸå†…
            if (elementaryType === 3 && currentX <= 0) currentX = 0.1;
            if (elementaryType === 5 && (currentX < -1 || currentX > 1)) currentX = 0.5;
            
            try {
                const currentY = func(currentX);
                if (isFinite(currentY)) {
                    const currentPixelX = ((currentX - xMin) / (xMax - xMin)) * graphWidth - graphWidth/2;
                    const currentPixelY = -currentY * graphHeight/4;
                    
                    ctx.fillStyle = '#ff4081';
                    ctx.beginPath();
                    ctx.arc(currentPixelX, currentPixelY, 8, 0, Math.PI * 2);
                    ctx.fill();
                }
            } catch(e) {
                // è·³è¿‡ä¸è¿ç»­ç‚¹
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('elemXValue').textContent = currentX.toFixed(2);
            
            let funcValue = 'NaN';
            try {
                const y = func(currentX);
                if (isFinite(y)) {
                    funcValue = y.toFixed(4);
                }
            } catch(e) {}
            
            document.getElementById('elemValue').textContent = funcValue;
            document.getElementById('elemType').textContent = type;
            document.getElementById('elementaryDescription').innerHTML = 
                `${desc} æ˜¯${type}ï¼Œåœ¨å…¶å®šä¹‰åŒºé—´å†…è¿ç»­`;
        }
        
        function updateElementaryGraph() {
            const slider = document.getElementById('elemSlider');
            const xVal = (slider.value / 100) * 4 - 2; // -2åˆ°2
            drawElementaryGraph(xVal);
        }
        
        function changeElementary(index) {
            elementaryType = index;
            updateElementaryGraph();
        }
        
        // 17. é›¶ç‚¹å®šç†äº¤äº’
        let zeroInterval = [-1.5, 1.5];
        
        function drawZeroTheoremGraph() {
            const canvas = canvases['zeroTheoremCanvas'];
            const ctx = contexts['zeroTheoremCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•° f(x) = xÂ³ - x
            const func = (x) => x*x*x - x;
            
            // ç»˜åˆ¶å‡½æ•°
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let x = -2; x <= 2; x += 0.05) {
                const y = func(x);
                const pixelX = x * graphWidth/4;
                const pixelY = -y * graphHeight/4;
                
                if (x === -2) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // xè½´
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // åŒºé—´
            const [a, b] = zeroInterval;
            const fa = func(a);
            const fb = func(b);
            
            // é«˜äº®åŒºé—´
            const aX = a * graphWidth/4;
            const bX = b * graphWidth/4;
            
            ctx.fillStyle = 'rgba(255, 193, 7, 0.2)';
            ctx.fillRect(aX, -graphHeight/2, bX - aX, graphHeight);
            
            // åŒºé—´ç«¯ç‚¹
            ctx.fillStyle = '#ff4081';
            ctx.beginPath();
            ctx.arc(aX, -fa * graphHeight/4, 6, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.beginPath();
            ctx.arc(bX, -fb * graphHeight/4, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // è¿çº¿åˆ°xè½´
            ctx.strokeStyle = '#ff4081';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(aX, -fa * graphHeight/4);
            ctx.lineTo(aX, 0);
            ctx.moveTo(bX, -fb * graphHeight/4);
            ctx.lineTo(bX, 0);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // æ£€æŸ¥é›¶ç‚¹å®šç†æ¡ä»¶
            if (fa * fb < 0) {
                // å­˜åœ¨é›¶ç‚¹ï¼Œç”¨äºŒåˆ†æ³•è¿‘ä¼¼æ‰¾åˆ°
                let left = a, right = b;
                let mid, fmid;
                
                for (let i = 0; i < 10; i++) {
                    mid = (left + right) / 2;
                    fmid = func(mid);
                    
                    if (fmid === 0) break;
                    if (func(left) * fmid < 0) {
                        right = mid;
                    } else {
                        left = mid;
                    }
                }
                
                // æ ‡è®°é›¶ç‚¹
                const midX = mid * graphWidth/4;
                ctx.fillStyle = '#0f9d58';
                ctx.beginPath();
                ctx.arc(midX, 0, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // è¯´æ˜
                ctx.fillStyle = '#0f9d58';
                ctx.font = 'bold 14px Arial';
                ctx.fillText(`é›¶ç‚¹Î¾â‰ˆ${mid.toFixed(2)}`, midX + 10, 10);
                
                // åŒºé—´ä¿¡æ¯
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.fillText(`f(${a.toFixed(1)}) = ${fa.toFixed(2)}`, aX, -graphHeight/2 + 20);
                ctx.fillText(`f(${b.toFixed(1)}) = ${fb.toFixed(2)}`, bX, -graphHeight/2 + 20);
                ctx.fillText(`f(${a.toFixed(1)})Ã—f(${b.toFixed(1)}) = ${(fa*fb).toFixed(2)} < 0`, 
                    graphWidth/2 - 150, -graphHeight/2 + 40);
            } else {
                // åŒå·ï¼Œä¸ä¸€å®šæœ‰é›¶ç‚¹
                ctx.fillStyle = '#ff4081';
                ctx.font = '12px Arial';
                ctx.fillText(`f(${a.toFixed(1)})Ã—f(${b.toFixed(1)}) = ${(fa*fb).toFixed(2)} â‰¥ 0`, 
                    graphWidth/2 - 150, -graphHeight/2 + 40);
                ctx.fillText('ä¸æ»¡è¶³é›¶ç‚¹å®šç†æ¡ä»¶', graphWidth/2 - 100, -graphHeight/2 + 60);
            }
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('intervalA').textContent = a.toFixed(1);
            document.getElementById('intervalB').textContent = b.toFixed(1);
            document.getElementById('faValue').textContent = fa.toFixed(3);
            document.getElementById('fbValue').textContent = fb.toFixed(3);
            
            if (fa * fb < 0) {
                document.getElementById('zeroTheoremDescription').innerHTML = 
                    `åœ¨[${a.toFixed(1)}, ${b.toFixed(1)}]ä¸Šï¼Œf(${a.toFixed(1)}) = ${fa.toFixed(2)}ï¼Œf(${b.toFixed(1)}) = ${fb.toFixed(2)}<br>
                    f(${a.toFixed(1)})Ã—f(${b.toFixed(1)}) < 0ï¼Œç”±é›¶ç‚¹å®šç†ï¼Œå­˜åœ¨Î¾âˆˆ(${a.toFixed(1)}, ${b.toFixed(1)})ä½¿f(Î¾)=0`;
            } else {
                document.getElementById('zeroTheoremDescription').innerHTML = 
                    `åœ¨[${a.toFixed(1)}, ${b.toFixed(1)}]ä¸Šï¼Œf(${a.toFixed(1)})Ã—f(${b.toFixed(1)}) â‰¥ 0<br>
                    ä¸æ»¡è¶³é›¶ç‚¹å®šç†æ¡ä»¶ï¼Œä¸èƒ½ç¡®å®šæ˜¯å¦å­˜åœ¨é›¶ç‚¹`;
            }
        }
        
        function updateZeroTheorem() {
            const aSlider = document.getElementById('aSlider');
            const bSlider = document.getElementById('bSlider');
            
            const a = aSlider.value / 100 * 3 - 1.5; // -1.5åˆ°1.5
            const b = bSlider.value / 100 * 3; // 0åˆ°3
            
            zeroInterval = [a, b];
            drawZeroTheoremGraph();
        }
        
        function findZeroInInterval(a, b) {
            zeroInterval = [a, b];
            document.getElementById('aSlider').value = ((a + 1.5) / 3) * 100;
            document.getElementById('bSlider').value = (b / 3) * 100;
            drawZeroTheoremGraph();
        }
        
        function showNoZeroInterval() {
            zeroInterval = [0.5, 1.5]; // f(0.5)å’Œf(1.5)éƒ½ä¸ºæ­£
            document.getElementById('aSlider').value = ((0.5 + 1.5) / 3) * 100;
            document.getElementById('bSlider').value = (1.5 / 3) * 100;
            drawZeroTheoremGraph();
        }
        
        // 18. æœ€å€¼å®šç†
        let maxMinFunction = 1;
        
        function drawMaxMinGraph(intervalSize = 3) {
            const canvas = canvases['maxMinCanvas'];
            const ctx = contexts['maxMinCanvas'];
            if (!canvas || !ctx) return;
            
            const width = canvas.width;
            const height = canvas.height;
            const margin = 50;
            const graphWidth = width - 2*margin;
            const graphHeight = height - 2*margin;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, width, height);
            
            ctx.save();
            ctx.translate(margin, margin + graphHeight/2);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, -graphHeight/2);
            ctx.lineTo(0, graphHeight/2);
            ctx.moveTo(-graphWidth/2, 0);
            ctx.lineTo(graphWidth/2, 0);
            ctx.stroke();
            
            // å‡½æ•°å®šä¹‰
            let func, a, b, desc;
            
            if (maxMinFunction === 1) {
                func = (x) => Math.sin(x);
                a = 0; b = intervalSize;
                desc = "f(x)=sin(x)";
            } else if (maxMinFunction === 2) {
                func = (x) => x*x - 2*x + 1;
                a = 0; b = intervalSize;
                desc = "f(x)=xÂ²-2x+1";
            } else {
                func = (x) => Math.cos(x) + x/2;
                a = 0; b = intervalSize;
                desc = "f(x)=cos(x)+x/2";
            }
            
            // ç»˜åˆ¶å‡½æ•°
            ctx.strokeStyle = '#4285f4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            for (let x = a; x <= b; x += 0.05) {
                const y = func(x);
                const pixelX = ((x - a) / (b - a)) * graphWidth - graphWidth/2;
                const pixelY = -y * graphHeight/4;
                
                if (x === a) {
                    ctx.moveTo(pixelX, pixelY);
                } else {
                    ctx.lineTo(pixelX, pixelY);
                }
            }
            ctx.stroke();
            
            // åŒºé—´æ ‡è®°
            const aX = -graphWidth/2;
            const bX = graphWidth/2;
            
            ctx.fillStyle = 'rgba(255, 193, 7, 0.1)';
            ctx.fillRect(aX, -graphHeight/2, graphWidth, graphHeight);
            
            // æŸ¥æ‰¾æœ€å€¼ç‚¹
            let maxY = -Infinity, minY = Infinity;
            let maxX = a, minX = a;
            
            for (let x = a; x <= b; x += 0.01) {
                const y = func(x);
                if (y > maxY) {
                    maxY = y;
                    maxX = x;
                }
                if (y < minY) {
                    minY = y;
                    minX = x;
                }
            }
            
            // ç»˜åˆ¶æœ€å€¼ç‚¹
            const maxPixelX = ((maxX - a) / (b - a)) * graphWidth - graphWidth/2;
            const maxPixelY = -maxY * graphHeight/4;
            
            const minPixelX = ((minX - a) / (b - a)) * graphWidth - graphWidth/2;
            const minPixelY = -minY * graphHeight/4;
            
            // æœ€å¤§å€¼ç‚¹
            ctx.fillStyle = '#0f9d58';
            ctx.beginPath();
            ctx.arc(maxPixelX, maxPixelY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // æœ€å°å€¼ç‚¹
            ctx.fillStyle = '#ff4081';
            ctx.beginPath();
            ctx.arc(minPixelX, minPixelY, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // æ ‡è®°
            ctx.fillStyle = '#0f9d58';
            ctx.font = 'bold 12px Arial';
            ctx.fillText(`æœ€å¤§å€¼ f(${maxX.toFixed(2)}) = ${maxY.toFixed(2)}`, 
                maxPixelX + 10, maxPixelY - 10);
            
            ctx.fillStyle = '#ff4081';
            ctx.fillText(`æœ€å°å€¼ f(${minX.toFixed(2)}) = ${minY.toFixed(2)}`, 
                minPixelX + 10, minPixelY + 20);
            
            // åŒºé—´ç«¯ç‚¹
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.fillText(`åŒºé—´: [${a.toFixed(1)}, ${b.toFixed(1)}]`, -graphWidth/2 + 10, -graphHeight/2 + 30);
            
            ctx.restore();
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('minMaxA').textContent = a.toFixed(1);
            document.getElementById('minMaxB').textContent = b.toFixed(1);
            document.getElementById('maxValue').textContent = maxY.toFixed(2);
            document.getElementById('maxX').textContent = maxX.toFixed(2);
            document.getElementById('minValue').textContent = minY.toFixed(2);
            document.getElementById('minX').textContent = minX.toFixed(2);
            document.getElementById('maxMinDescription').innerHTML = 
                `${desc} åœ¨é—­åŒºé—´[${a.toFixed(1)}, ${b.toFixed(1)}]ä¸Šè¿ç»­ï¼Œç”±æœ€å€¼å®šç†ï¼Œå¿…æœ‰æœ€å¤§å€¼å’Œæœ€å°å€¼`;
        }
        
        function updateMaxMinGraph() {
            const slider = document.getElementById('intervalSlider');
            const intervalSize = (slider.value / 100) * 6; // 0åˆ°6
            drawMaxMinGraph(intervalSize);
        }
        
        function changeMaxMinFunction(index) {
            maxMinFunction = index;
            updateMaxMinGraph();
        }
        
        function findExtrema() {
            // åŠ¨ç”»æ˜¾ç¤ºæŸ¥æ‰¾æœ€å€¼è¿‡ç¨‹
            const canvas = canvases['maxMinCanvas'];
            const ctx = contexts['maxMinCanvas'];
            if (!canvas || !ctx) return;
            
            // é‡æ–°ç»˜åˆ¶
            updateMaxMinGraph();
            
            // é«˜äº®æœ€å€¼ç‚¹
            setTimeout(() => {
                ctx.save();
                ctx.translate(canvas.width/2, canvas.height/2);
                
                ctx.fillStyle = '#0f9d58';
                ctx.beginPath();
                ctx.arc(0, -canvas.height/4, 10, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.restore();
            }, 500);
        }
        
        // ====================== åˆå§‹åŒ–æ‰€æœ‰å›¾å½¢ ======================
        
        function initAllGraphs() {
            // åˆå§‹åŒ–æ‰€æœ‰canvas
            initCanvases();
            
            // ç»˜åˆ¶æ‰€æœ‰å›¾å½¢
            drawDomainGraph(0);
            drawSequenceGraph(10);
            drawEpsilonDeltaGraph(0.5);
            drawLeftRightGraph(0.1);
            drawSqueezeGraph(1.0);
            drawMonotoneGraph(5);
            drawOperationsGraph(0.5);
            drawIndeterminateGraph(0.5);
            drawFirstLimitGraph(0.5);
            drawSecondLimitGraph(10);
            drawInfinitesimalGraph(0.5);
            drawEquivalentGraph(0.5);
            drawContinuityGraph(0);
            drawRepairGraph(1.0);
            drawContinuousOpsGraph(0.5);
            drawElementaryGraph(1.0);
            drawZeroTheoremGraph();
            drawMaxMinGraph(3);
        }
        
        // éšæœºç»ƒä¹ é¢˜
        const randomExercises = [
            {
                question: "è®¡ç®—æé™ï¼š\\( \\displaystyle \\lim_{x \\to 0} \\frac{\\sin 3x}{2x} \\)",
                answer: "\\( \\displaystyle \\frac{3}{2} \\)ï¼ˆåˆ©ç”¨ç¬¬ä¸€é‡è¦æé™ï¼‰"
            },
            {
                question: "åˆ¤æ–­å‡½æ•° \\( f(x) = \\frac{|x|}{x} \\) åœ¨ \\( x=0 \\) å¤„æ˜¯å¦è¿ç»­ï¼Ÿ",
                answer: "ä¸è¿ç»­ï¼ˆå·¦å³æé™ä¸ç›¸ç­‰ï¼Œæ˜¯è·³è·ƒé—´æ–­ç‚¹ï¼‰"
            },
            {
                question: "ç”¨ç­‰ä»·æ— ç©·å°æ±‚æé™ï¼š\\( \\displaystyle \\lim_{x \\to 0} \\frac{e^{2x}-1}{\\sin 3x} \\)",
                answer: "\\( \\displaystyle \\frac{2}{3} \\)ï¼ˆ\\( e^{2x}-1 \\sim 2x \\), \\( \\sin 3x \\sim 3x \\)ï¼‰"
            },
            {
                question: "è¯æ˜æ–¹ç¨‹ \\( x^3 + x - 1 = 0 \\) åœ¨ \\( (0,1) \\) å†…æœ‰å®æ ¹",
                answer: "ä»¤ \\( f(x)=x^3+x-1 \\)ï¼Œ\\( f(0)=-1<0 \\)ï¼Œ\\( f(1)=1>0 \\)ï¼Œç”±é›¶ç‚¹å®šç†å¾—è¯"
            },
            {
                question: "ç”¨å¤¹é€¼å‡†åˆ™æ±‚æé™ï¼š\\( \\displaystyle \\lim_{x \to 0} x^2 \\sin\\frac{1}{x} \\)",
                answer: "0ï¼ˆå› ä¸º \\( -x^2 \\le x^2 \\sin\\frac{1}{x} \\le x^2 \\)ï¼‰"
            },
            {
                question: "æ±‚å‡½æ•° \\( f(x) = \\frac{\\sqrt{x-2}}{x-1} \\) çš„å®šä¹‰åŸŸ",
                answer: "[2, +âˆ) ä½† xâ‰ 1ï¼Œæ‰€ä»¥æ˜¯ [2, +âˆ)"
            }
        ];
        
        function showRandomExercise() {
            const randomIndex = Math.floor(Math.random() * randomExercises.length);
            const exercise = randomExercises[randomIndex];
            
            const container = document.getElementById('randomExercise');
            container.innerHTML = `
                <div style="background: white; padding: 15px; border-radius: 10px; border: 2px solid var(--info);">
                    <div style="font-weight: bold; margin-bottom: 10px; color: var(--primary);">éšæœºç»ƒä¹ é¢˜ï¼š</div>
                    <div style="margin-bottom: 10px; font-size: 0.95rem;" id="randomQuestion">${exercise.question}</div>
                    <button class="answer-btn" onclick="toggleRandomAnswer()" style="width: 100%;">æ˜¾ç¤ºç­”æ¡ˆ</button>
                    <div id="randomAnswer" style="display: none; margin-top: 10px; padding: 10px; background: #d4edda; border-radius: 5px;">
                        <strong>ç­”æ¡ˆï¼š</strong> <span id="randomAnswerText">${exercise.answer}</span>
                    </div>
                </div>
            `;
            container.style.display = 'block';
            document.getElementById('gameArea').style.display = 'none';
            
            // é‡æ–°æ¸²æŸ“æ•°å­¦å…¬å¼
            if (window.MathJax) {
                MathJax.typesetPromise([`#randomQuestion`, `#randomAnswerText`]).catch(err => console.log(err));
            }
        }
        
        function toggleRandomAnswer() {
            const answer = document.getElementById('randomAnswer');
            answer.style.display = answer.style.display === 'none' ? 'block' : 'none';
        }
        
        // æé™æŒ‘æˆ˜æ¸¸æˆ
        function startLimitGame() {
            const gameArea = document.getElementById('gameArea');
            const problems = [
                { 
                    problem: "\\( \\displaystyle \\lim_{x \to 0} \\frac{\\sin x}{x} = ? \\)", 
                    answer: "1", 
                    options: ["0", "1", "âˆ", "ä¸å­˜åœ¨"] 
                },
                { 
                    problem: "\\( \\displaystyle \\lim_{x \to \\infty} \\left(1+\\frac{1}{x}\\right)^x = ? \\)", 
                    answer: "e", 
                    options: ["1", "e", "0", "âˆ"] 
                },
                { 
                    problem: "\\( \\displaystyle \\lim_{x \to 0} \\frac{1 - \\cos x}{x^2} = ? \\)", 
                    answer: "1/2", 
                    options: ["0", "1/2", "1", "2"] 
                },
                { 
                    problem: "\\( \\displaystyle \\lim_{x \to 0} \\frac{\\tan x}{x} = ? \\)", 
                    answer: "1", 
                    options: ["0", "1", "âˆ", "ä¸å­˜åœ¨"] 
                },
                { 
                    problem: "\\( \\displaystyle \\lim_{x \to 0} \\frac{e^x - 1}{x} = ? \\)", 
                    answer: "1", 
                    options: ["0", "1", "e", "âˆ"] 
                }
            ];
            
            let currentProblem = 0;
            let score = 0;
            
            function renderProblem() {
                const problem = problems[currentProblem];
                gameArea.innerHTML = `
                    <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid var(--funny-blue);">
                        <div style="font-weight: bold; margin-bottom: 15px; font-size: 1.1rem;">æé™æŒ‘æˆ˜æ¸¸æˆ (${currentProblem+1}/${problems.length})</div>
                        <div style="margin-bottom: 15px; font-size: 1.1rem; text-align: center; min-height: 50px;" id="gameQuestion">${problem.problem}</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                            ${problem.options.map((option, index) => `
                                <button class="answer-btn" onclick="checkGameAnswer('${option}')" style="padding: 10px;">${option}</button>
                            `).join('')}
                        </div>
                        <div style="text-align: center; font-weight: bold; color: var(--primary);">å¾—åˆ†: ${score}</div>
                    </div>
                `;
                gameArea.style.display = 'block';
                document.getElementById('randomExercise').style.display = 'none';
                
                // é‡æ–°æ¸²æŸ“æ•°å­¦å…¬å¼
                if (window.MathJax) {
                    MathJax.typesetPromise([`#gameQuestion`]).catch(err => console.log(err));
                }
            }
            
            window.checkGameAnswer = function(selected) {
                const problem = problems[currentProblem];
                const buttons = gameArea.querySelectorAll('.answer-btn');
                
                buttons.forEach(btn => {
                    if (btn.textContent === problem.answer) {
                        btn.style.background = 'linear-gradient(135deg, #0f9d58, #4caf50)';
                    } else if (btn.textContent === selected && selected !== problem.answer) {
                        btn.style.background = 'linear-gradient(135deg, #f44336, #e53935)';
                    }
                    btn.disabled = true;
                });
                
                if (selected === problem.answer) {
                    score++;
                    gameArea.querySelector('div:last-child').innerHTML = `ğŸ‰ æ­£ç¡®ï¼å¾—åˆ†: ${score}`;
                } else {
                    gameArea.querySelector('div:last-child').innerHTML = `âŒ é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ ${problem.answer}ã€‚å¾—åˆ†: ${score}`;
                }
                
                currentProblem++;
                
                if (currentProblem < problems.length) {
                    setTimeout(renderProblem, 1500);
                } else {
                    setTimeout(() => {
                        gameArea.innerHTML = `
                            <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid var(--funny-green); text-align: center;">
                                <div style="font-weight: bold; margin-bottom: 15px; font-size: 1.2rem;">æ¸¸æˆç»“æŸï¼</div>
                                <div style="font-size: 1.5rem; color: var(--primary); margin-bottom: 15px;">æœ€ç»ˆå¾—åˆ†: ${score}/${problems.length}</div>
                                <div style="margin-bottom: 15px;">
                                    ${score === problems.length ? 'ğŸ–ï¸ æé™å¤§å¸ˆï¼' : 
                                      score >= problems.length/2 ? 'ğŸ‘ ä¸é”™å“¦ï¼' : 
                                      'ğŸ’ª ç»§ç»­åŠ æ²¹ï¼'}
                                </div>
                                <button class="answer-btn" onclick="startLimitGame()">å†ç©ä¸€æ¬¡</button>
                            </div>
                        `;
                    }, 1500);
                }
            };
            
            renderProblem();
        }
        
        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æ‰€æœ‰å›¾å½¢
            initAllGraphs();
            
            // åˆå§‹åŒ–MathJax
            if (window.MathJax) {
                MathJax.typeset();
            }
            
            // æç¤ºç”¨æˆ·ç‚¹å‡»è¿›åº¦æŒ‰é’®
            setTimeout(() => {
                const progressText = document.querySelector('.progress-text');
                if (progress === 0) {
                    progressText.innerHTML = 'ç‚¹å‡»"æ›´æ–°è¿›åº¦"å¼€å§‹å­¦ä¹ ï¼';
                }
            }, 1000);
        });
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            // Alt+P æ›´æ–°è¿›åº¦
            if (e.altKey && e.key === 'p') {
                updateProgress();
                e.preventDefault();
            }
            // Alt+R éšæœºç»ƒä¹ 
            if (e.altKey && e.key === 'r') {
                showRandomExercise();
                e.preventDefault();
            }
            // Alt+G å¼€å§‹æ¸¸æˆ
            if (e.altKey && e.key === 'g') {
                startLimitGame();
                e.preventDefault();
            }
        });
        
        // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°åˆå§‹åŒ–canvas
        window.addEventListener('resize', function() {
            initAllGraphs();
        });
    </script>
</body>
</html>